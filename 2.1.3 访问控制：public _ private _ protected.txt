å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **2.1.3ï¼šè®¿é—®æ§åˆ¶ â€” public / private / protected**ã€‚

è¿™æ˜¯ C++ **å°è£…ï¼ˆEncapsulationï¼‰** çš„æ ¸å¿ƒæœºåˆ¶ï¼Œä¹Ÿæ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„**ç¬¬ä¸€åŸåˆ™**ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ ç†Ÿæ‚‰ `public`/`private`/`protected`ï¼Œä½† C++ çš„è®¿é—®æ§åˆ¶åœ¨**ç»§æ‰¿**å’Œ**å‹å…ƒ**åœºæ™¯ä¸­æœ‰æ›´ç²¾ç»†çš„è¡Œä¸ºã€‚ç†è§£è¿™äº›å·®å¼‚ï¼Œèƒ½è®©ä½ è®¾è®¡å‡ºæ›´å®‰å…¨ã€æ›´çµæ´»çš„ C++ ç±»ã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆè®¿é—®æ§åˆ¶åœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€/è¿›é˜¶/é™·é˜±é¢˜ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 2.1.1â€“2.1.2 + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨ learning + å¤ç›˜

---

## ğŸ¯ KU 2.1.3ï¼šè®¿é—®æ§åˆ¶

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 2 â€” é¢å‘å¯¹è±¡ç¼–ç¨‹  
> **å‰ç½®çŸ¥è¯†**ï¼š2.1.1â€“2.1.2ï¼ˆç±»åŸºç¡€ï¼‰ã€Java è®¿é—®æ§åˆ¶ç»éªŒ  
> **åç»­è¡”æ¥**ï¼š2.6ï¼ˆç»§æ‰¿ï¼‰ã€2.4ï¼ˆå‹å…ƒå‡½æ•°ï¼‰  
> **é¢„è®¡è€—æ—¶**ï¼š2â€“3 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šè®¿é—®æ§åˆ¶åœ°å›¾

```
2.1.3 è®¿é—®æ§åˆ¶
â”œâ”€â”€ 1. ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦
â”‚   â”œâ”€â”€ 1.1 publicï¼šå¤–éƒ¨å®Œå…¨è®¿é—®
â”‚   â”œâ”€â”€ 1.2 privateï¼šä»…ç±»å†…éƒ¨è®¿é—®
â”‚   â””â”€â”€ 1.3 protectedï¼šç±»å†…éƒ¨ + æ´¾ç”Ÿç±»è®¿é—®
â”œâ”€â”€ 2. ç»§æ‰¿ä¸­çš„è®¿é—®æ§åˆ¶
â”‚   â”œâ”€â”€ 2.1 public ç»§æ‰¿ï¼šæƒé™ä¸å˜
â”‚   â”œâ”€â”€ 2.2 protected ç»§æ‰¿ï¼špublic/protected â†’ protected
â”‚   â””â”€â”€ 2.3 private ç»§æ‰¿ï¼šæ‰€æœ‰ â†’ private
â”œâ”€â”€ 3. å‹å…ƒï¼ˆfriendï¼‰ä¾‹å¤–
â”‚   â”œâ”€â”€ 3.1 å‹å…ƒå‡½æ•°/ç±»å¯è®¿é—® private
â”‚   â””â”€â”€ 3.2 æ‰“ç ´å°è£…çš„å—æ§æ–¹å¼
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 C++: ç»§æ‰¿å½±å“è®¿é—®æƒé™
â”‚   â””â”€â”€ 4.2 Java: ç»§æ‰¿ä¸æ”¹å˜è®¿é—®æƒé™
â””â”€â”€ 5. æœ€ä½³å®è·µ
    â”œâ”€â”€ 5.1 ä¼˜å…ˆ privateï¼ˆæœ€å°æš´éœ²ï¼‰
    â”œâ”€â”€ 5.2 public ç»§æ‰¿æœ€å¸¸ç”¨
    â””â”€â”€ 5.3 å‹å…ƒè°¨æ…ä½¿ç”¨
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½æ­£ç¡®ä½¿ç”¨ `public`/`private`/`protected`ï¼Œç†è§£å…¶åœ¨ç»§æ‰¿ä¸­çš„è¡Œä¸ºï¼Œå¹¶ä¸ Java å¯¹æ¯”ã€‚
- **Measurable**ï¼šå®Œæˆ 2 é“åŸºç¡€é¢˜ + 2 é“é™·é˜±é¢˜ï¼Œèƒ½è§£é‡Šä¸ºä½• `private` ç»§æ‰¿ä¼šéšè—åŸºç±» public æˆå‘˜ã€‚
- **Achievable**ï¼šé€šè¿‡â€œå®‰å…¨åŒºåŸŸâ€æ¯”å–»ç†è§£è®¿é—®æ§åˆ¶ã€‚
- **Relevant**ï¼šè¿™æ˜¯è®¾è®¡å®‰å…¨ C++ ç±»çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1â€“2 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šå»ºç­‘å®‰å…¨åŒºåŸŸ

> æƒ³è±¡ä¸€åº§**æ™ºèƒ½å»ºç­‘**ï¼š
>
> - **public åŒºåŸŸ** = å¤§å…ã€å±•å…  
>   - **æ‰€æœ‰äºº**å¯è¿›å…¥ï¼ˆå¤–éƒ¨ä»£ç ï¼‰
>
> - **private åŒºåŸŸ** = æ ¸å¿ƒæœºæˆ¿ã€ä¿é™©åº“  
>   - **ä»…å»ºç­‘å†…éƒ¨å‘˜å·¥**å¯è¿›å…¥ï¼ˆç±»æˆå‘˜å‡½æ•°ï¼‰
>
> - **protected åŒºåŸŸ** = å‘˜å·¥ä¼‘æ¯å®¤  
>   - **å‘˜å·¥ + åˆä½œå…¬å¸å‘˜å·¥**å¯è¿›å…¥ï¼ˆæ´¾ç”Ÿç±»ï¼‰
>
> - **ç»§æ‰¿ = å»ºç­‘æ‰©å»º**ï¼š  
>   - **public ç»§æ‰¿**ï¼šæ–°å»ºç­‘ä¿æŒåŸåŒºåŸŸå¼€æ”¾æ€§  
>   - **private ç»§æ‰¿**ï¼šæ–°å»ºç­‘å°†åŸ public åŒºåŸŸè½¬ä¸º private
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java å»ºç­‘æ‰©å»º**ä¸æ”¹å˜åŒºåŸŸæƒé™**  
>   - **C++ å»ºç­‘æ‰©å»ºå¯è°ƒæ•´æƒé™**

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**C++ ç»§æ‰¿å¯æ”¹å˜è®¿é—®æƒé™ï¼ŒJava ä¸èƒ½**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦
- **`public`**ï¼š
  - å¤–éƒ¨ä»£ç ã€æ´¾ç”Ÿç±»ã€ç±»å†…éƒ¨å‡å¯è®¿é—®
  - **æ¥å£**ï¼ˆå¦‚ `get_value()`ï¼‰
- **`private`**ï¼š
  - ä»…**ç±»å†…éƒ¨**å¯è®¿é—®
  - **å°è£…æ•°æ®**ï¼ˆå¦‚ `secret_key_`ï¼‰
- **`protected`**ï¼š
  - ç±»å†…éƒ¨ + **æ´¾ç”Ÿç±»**å¯è®¿é—®
  - **ç»§æ‰¿æ¥å£**ï¼ˆå¦‚ `base_helper()`ï¼‰

#### 2. ç»§æ‰¿ä¸­çš„è®¿é—®æ§åˆ¶
- **`public` ç»§æ‰¿**ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼š
  ```cpp
  class Base {
  public: void f();
  protected: void g();
  private: void h();
  };
  
  class Derived : public Base {
      // f() â†’ public
      // g() â†’ protected
      // h() â†’ inaccessible
  };
  ```
- **`protected` ç»§æ‰¿**ï¼š
  ```cpp
  class Derived : protected Base {
      // f() â†’ protected
      // g() â†’ protected
      // h() â†’ inaccessible
  };
  ```
- **`private` ç»§æ‰¿**ï¼ˆå®ç°ç»§æ‰¿ï¼‰ï¼š
  ```cpp
  class Derived : private Base {
      // f() â†’ private
      // g() â†’ private
      // h() â†’ inaccessible
  };
  
  Derived d;
  // d.f(); // Error! f is now private
  ```

#### 3. å‹å…ƒï¼ˆfriendï¼‰ä¾‹å¤–
- **å‹å…ƒå‡½æ•°**ï¼š
  ```cpp
  class Secret {
      int code_;
      friend void reveal(const Secret& s); // å‹å…ƒå‡½æ•°
  };
  
  void reveal(const Secret& s) {
      std::cout << s.code_; // OK! è®¿é—® private
  }
  ```
- **å‹å…ƒç±»**ï¼š
  ```cpp
  class Secret {
      friend class Trusted; // å‹å…ƒç±»
      int code_;
  };
  
  class Trusted {
      void access(Secret& s) {
          s.code_ = 42; // OK!
      }
  };
  ```

#### 4. ä¸ Java çš„å¯¹æ¯”
| åœºæ™¯ | C++ | Java |
|------|-----|------|
| **ç»§æ‰¿æƒé™** | å¯æ”¹å˜ï¼ˆpublic/protected/privateï¼‰ | **ä¸å¯æ”¹å˜**ï¼ˆå§‹ç»ˆåŸæƒé™ï¼‰ |
| **å‹å…ƒ** | âœ… æ”¯æŒï¼ˆfriendï¼‰ | âŒ æ— ç›´æ¥ç­‰ä»· |
| **åŒ…è®¿é—®** | æ—  | âœ… package-private |

#### 5. æœ€ä½³å®è·µ
- **æœ€å°æš´éœ²åŸåˆ™**ï¼š
  - æˆå‘˜å˜é‡ **`private`**
  - ä»…å¿…è¦æ¥å£ **`public`**
- **ç»§æ‰¿é€‰æ‹©**ï¼š
  - **`public` ç»§æ‰¿**ï¼šis-a å…³ç³»ï¼ˆæœ€å¸¸ç”¨ï¼‰
  - **`private` ç»§æ‰¿**ï¼šhas-a å…³ç³»ï¼ˆä¼˜å…ˆç»„åˆï¼‰
- **å‹å…ƒè°¨æ…**ï¼š
  - ä»…ç”¨äºç´§å¯†åä½œç±»ï¼ˆå¦‚è¿­ä»£å™¨/å®¹å™¨ï¼‰

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œprivate ä¸ºé»˜è®¤ï¼Œpublic ä¸ºæ¥å£ï¼Œprotected ä¸ºç»§æ‰¿ï¼›å‹å…ƒæ˜¯ç‰¹ä¾‹â€**

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šåŸºæœ¬è®¿é—®æ§åˆ¶
```cpp
#include <iostream>

class MyClass {
private:
    int secret_ = 0;
    
protected:
    int shared_ = 1;
    
public:
    int public_ = 2;
    
    void reveal() const {
        std::cout << "Secret: " << secret_ << "\n";
        std::cout << "Shared: " << shared_ << "\n";
        std::cout << "Public: " << public_ << "\n";
    }
};

int main() {
    MyClass obj;
    // obj.secret_ = 10; // Error!
    // obj.shared_ = 20; // Error!
    obj.public_ = 30; // OK
    obj.reveal();
    return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šç»§æ‰¿ä¸­çš„è®¿é—®æ§åˆ¶
```cpp
#include <iostream>

class Base {
public:
    void public_func() { std::cout << "Public\n"; }
protected:
    void protected_func() { std::cout << "Protected\n"; }
private:
    void private_func() { std::cout << "Private\n"; }
};

class PublicDerived : public Base {
public:
    void test() {
        public_func();    // OK (public)
        protected_func(); // OK (protected)
        // private_func(); // Error!
    }
};

class PrivateDerived : private Base {
public:
    void test() {
        public_func();    // OK (now private in Derived)
        protected_func(); // OK (now private in Derived)
    }
};

int main() {
    PublicDerived pd;
    pd.public_func(); // OK
    
    PrivateDerived prd;
    // prd.public_func(); // Error! private in PrivateDerived
    prd.test(); // OK (å†…éƒ¨è®¿é—®)
    return 0;
}
```

#### ç¤ºä¾‹ 3ï¼šå‹å…ƒ
```cpp
#include <iostream>

class BankAccount {
    double balance_ = 0.0;
    friend class Auditor; // å‹å…ƒç±»
    
public:
    void deposit(double amount) { balance_ += amount; }
};

class Auditor {
public:
    void inspect(const BankAccount& account) {
        std::cout << "Balance: " << account.balance_ << "\n"; // OK!
    }
};

int main() {
    BankAccount account;
    account.deposit(100.0);
    
    Auditor auditor;
    auditor.inspect(account); // å‹å…ƒè®¿é—® private
    return 0;
}
```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **è®¿é—®æ§åˆ¶è¯†åˆ«**  
   - åˆ¤æ–­ä»¥ä¸‹æˆå‘˜çš„å¯è®¿é—®æ€§ï¼š
     ```cpp
     class C {
         int a;          // ?
     protected:
         int b;          // ?
     public:
         int c;          // ?
     };
     ```

2. **ç»§æ‰¿æƒé™**  
   - `class D : private C {};` ä¸­ `D` çš„ `c` æˆå‘˜æ˜¯ä»€ä¹ˆè®¿é—®çº§åˆ«ï¼Ÿ

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **å‹å…ƒå®ç°**  
   - ä¸º `Point` ç±»æ·»åŠ å‹å…ƒå‡½æ•° `distance(const Point&, const Point&)`

4. **ç»„åˆ vs ç§æœ‰ç»§æ‰¿**  
   - ç”¨ç»„åˆå’Œç§æœ‰ç»§æ‰¿åˆ†åˆ«å®ç° `Stack`ï¼ˆåŸºäº `std::vector`ï¼‰

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
5. **â€œç»§æ‰¿ä¸æ”¹å˜æƒé™å§ï¼Ÿâ€**  
   - Q: C++ ä¸­ `public` ç»§æ‰¿ä¼šæ”¹å˜åŸºç±»æˆå‘˜çš„è®¿é—®æƒé™å—ï¼Ÿ  
   - A: âŒ **ä¸ä¼š**ï¼  
     â†’ `public` ç»§æ‰¿ä¿æŒåŸæƒé™  
     â†’ **`private`/`protected` ç»§æ‰¿ä¼šé™ä½æƒé™**

6. **â€œJava æœ‰ friend å§ï¼Ÿâ€**  
   - Q: Java èƒ½è®¿é—®å…¶ä»–ç±»çš„ private æˆå‘˜å—ï¼Ÿ  
   - A: âŒ **ä¸èƒ½**ï¼  
     â†’ Java æ— å‹å…ƒæœºåˆ¶  
     â†’ åå°„å¯ç ´åå°è£…ï¼Œä½†éè¯­è¨€ç‰¹æ€§

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **ç§æœ‰ç»§æ‰¿** | ä¼˜å…ˆç»„åˆï¼ˆhas-aï¼‰è€Œéç§æœ‰ç»§æ‰¿ |
| **å‹å…ƒæ»¥ç”¨** | ä»…ç”¨äºç´§å¯†è€¦åˆï¼ˆå¦‚è¿­ä»£å™¨ï¼‰ |
| **protected æ»¥ç”¨** | é¿å…è¿‡åº¦æš´éœ²ç»™æ´¾ç”Ÿç±» |
| **ç°ä»£å®è·µ** | public ç»§æ‰¿ + private æˆå‘˜æ˜¯é»„é‡‘ç»„åˆ |

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œå°è£…é  privateï¼Œç»§æ‰¿ç”¨ publicï¼Œå‹å…ƒæ˜¯ä¾‹å¤–â€**

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 2.1.2**ï¼šè®¿é—®æ§åˆ¶ä¿æŠ¤æˆå‘˜å˜é‡/å‡½æ•°  
- **Java ç»éªŒ**ï¼šC++ ç»§æ‰¿å¯æ”¹å˜æƒé™ï¼ŒJava ä¸èƒ½  
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™ä¸‰ç§ç»§æ‰¿çš„æƒé™å˜åŒ–

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œä½•æ—¶è¯¥ç”¨ protected è€Œé privateï¼Ÿâ€
   - â€œå‹å…ƒå¦‚ä½•ç ´åå°è£…åˆä¿æŒå®‰å…¨ï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º C++ ä¸ Java è®¿é—®æ§åˆ¶å¯¹æ¯”
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆç§æœ‰ç»§æ‰¿ä¼šéšè— public æˆå‘˜â€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½æ­£ç¡®ä½¿ç”¨ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦  
âœ… æˆ‘ç†è§£ç»§æ‰¿ä¸­çš„æƒé™å˜åŒ–  
âœ… æˆ‘ä¼šä½¿ç”¨å‹å…ƒå®‰å…¨çªç ´å°è£…  
âœ… æˆ‘çŸ¥é“ä¸ Java çš„è®¿é—®æ§åˆ¶å·®å¼‚  
âœ… æˆ‘æ˜ç™½ç°ä»£ C++ çš„å°è£…æœ€ä½³å®è·µ

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 5 å’Œ 6

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å·²æŒæ¡ **C++ è®¿é—®æ§åˆ¶çš„æ ¸å¿ƒçŸ¥è¯†**ï¼

æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š
1. **ç»§ç»­å­¦ä¹  2.1.4 this æŒ‡é’ˆï¼šéšå¼å‚æ•°ä¸æ˜¾å¼ä½¿ç”¨**
2. **è¯·æ±‚ç”Ÿæˆã€ŒC++ è®¿é—®æ§åˆ¶é€ŸæŸ¥å¡ã€**
3. **è·³è½¬åˆ°ç»ƒä¹ é¢˜ç­”æ¡ˆä¸è§£æ**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼