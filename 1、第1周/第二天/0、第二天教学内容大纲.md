# 第 1 周第 2 天：控制流基础——条件判断与循环结构（24 小时无休版）

00:00–01:30｜**认知目标：理解控制流的核心价值与布尔逻辑深化**  
- 回顾第 1 天布尔表达式、关系/逻辑运算符；  
- 讲解程序“顺序执行”的局限性，引出“分支”与“循环”的必要性；  
- 深化短路求值（`a && b` 中 `b` 可能不执行）与复杂条件组合；  
- **生活化比喻**：“程序像自动驾驶汽车，if 是路口决策，while 是环岛绕行”；  
- **实践要求**：手绘“程序执行路径图”，标注条件分支点。

01:30–03:00｜**认知目标：掌握 if-else 语句语法与嵌套结构**  
- 讲解 `if`、`if-else`、`else if` 链的语法规则与缩进规范；  
- 强调“悬空 else”问题（else 与最近 if 配对）及花括号强制使用；  
- 对比练习：有无花括号在嵌套中的行为差异；  
- **实践要求**：编写成绩评级程序（A/B/C/D/F），使用多级 else if。

03:00–04:30｜**认知目标：综合应用 if 实现输入验证与错误重试**  
- 结合第 1 天 `std::cin.fail()`，实现健壮输入循环；  
- 示例：要求用户输入 1–3 之间的整数，无效则重试；  
- 引入标志变量（`bool valid = false`）控制循环；  
- **实践要求**：改造单位转换器，支持选项输错后自动重试。

04:30–06:00｜**认知目标：理解 while 循环执行模型与典型场景**  
- 讲解 `while (condition) { ... }` 的执行流程（先判断，后执行）；  
- 典型用例：读取未知数量输入、菜单重试、数值逼近；  
- 常见陷阱：无限循环（条件永不为假）、循环体未更新条件变量；  
- **实践要求**：编写“猜数字”游戏（固定答案，用户循环猜测直至正确）。

06:00–07:30｜**认知目标：掌握 for 循环结构与计数器模式**  
- 语法：`for (init; condition; update) { ... }`；  
- 与 while 的等价转换（`for` 是 `while` 的语法糖）；  
- 强调循环变量作用域（C++11 起 for 内声明变量仅在循环内有效）；  
- **实践要求**：输出 1 到 100 的和、打印乘法表（1–9）。

07:30–09:00｜**基础编码训练：控制流综合实践与错误调试**  
- **基础题**：判断闰年（能被 4 整除但不能被 100 整除，或能被 400 整除）；  
- **进阶题**：计算阶乘（for）与斐波那契数列前 N 项（while）；  
- **陷阱题**：故意制造无限循环、悬空 else、条件更新遗漏，要求修复；  
- **实践要求**：提交 3 个可运行程序+错误日志分析。

09:00–10:30｜**认知目标：break 与 continue 控制循环流程**  
- `break`：立即退出当前循环；  
- `continue`：跳过本次剩余代码，进入下一次迭代；  
- 对比练习：用 break 实现“找到即停”，用 continue 实现“跳过偶数”；  
- **实践要求**：编写质数判断（用 break 优化）、打印 1–20 中奇数（用 continue）。

10:30–12:00｜**螺旋复习+小测（第 1–6 模块整合）**  
- 快速问答：5 道概念题（如“else 与哪个 if 配对？”“for 循环变量作用域？”）；  
- 编程小测：编写简易菜单系统（1. 问候 2. 单位转换 3. 退出），支持无效选项重试；  
- **纠错训练**：提供一段含 3 处控制流错误的代码（如无限循环、逻辑错），限时修复。

12:00–13:30｜**认知目标：代码风格在控制流中的规范应用**  
- If/for/while 的缩进（2 空格）、空行、空格规范；  
- 复杂条件拆分为布尔变量提升可读性（如 `bool is_valid = (x > 0 && x < 100);`）；  
- 禁止在条件中赋值（`if (x = 5)`）——开启 `-Wall` 警告；  
- **实践要求**：重构上午的“猜数字”游戏，符合 Google C++ Style。

13:30–15:00｜**认知目标：三类错误在控制流中的新表现**  
- 编译错误：if 后缺括号、for 语法错误；  
- 运行时错误：无限循环导致程序“卡死”；  
- 逻辑错误：边界条件遗漏（如循环多执行一次）；  
- 调试策略：插入计数器、打印循环变量、设置最大迭代次数防死循环；  
- **实践要求**：诊断并修复“阶乘计算溢出但未检测”的逻辑错误。

15:00–16:30｜**动手为王：完整微型项目——简易猜数字游戏（增强版）**  
- 功能：  
  - 随机生成 1–100 的数字（暂用 `const int ANSWER = 42;` 模拟）；  
  - 用户循环输入猜测；  
  - 提示“太大”/“太小”；  
  - 支持无效输入重试；  
  - 统计猜测次数；  
- **进阶挑战**：限制最多 7 次猜测；  
- **陷阱规避**：处理非整数输入、负数猜测。

16:30–18:00｜**综合编码训练：错误排查与逻辑优化**  
- 提供一段“能跑但逻辑错”的菜单程序（如选项 3 无法退出）；  
- 要求：定位逻辑错误、修复、添加输入验证、优化循环结构；  
- 重构代码：提取重复提示逻辑，提高可维护性。

18:00–19:30｜**当日知识全景复盘与自测**  
- 学生自主绘制“第 2 天知识地图”（手写或文本）；  
- 完成 10 道自测题（5 概念+5 编码，覆盖 if/while/for/break/continue）；  
- **实践要求**：提交所有代码+错误日志+知识地图。

19:30–21:00｜**跨模块小项目：交互式数学练习器**  
- 功能：  
  - 随机出 10 道加法题（如 23 + 45 = ?）；  
  - 用户输入答案；  
  - 统计正确率；  
  - 支持无效输入重试；  
- 要求：使用 for 循环控制题数，while 处理单题输入验证；  
- **实践要求**：代码风格规范，错误处理完整。

21:00–22:30｜**错题回顾与模式总结**  
- 分析当日所有错误：归类为语法/运行时/逻辑；  
- 总结高频陷阱：无限循环、条件更新遗漏、悬空 else；  
- 制定个人“控制流防错 checklist”；  
- **实践要求**：提交错题分析报告。

22:30–24:00｜**明日预告与预习任务**  
- 预告第 3 天主题：函数封装与代码复用；  
- 预习任务：思考“如何将猜数字游戏中的输入验证逻辑提取出来重复使用？”；  
- **实践要求**：尝试用注释标注“可复用代码块”。

---
**总时长**：1440 分钟（24 小时）  
**教学原则达成情况**：  
✅ 结构先行（开篇明确控制流全景）  
✅ 生活化比喻（5 处以上：自动驾驶、环岛、菜单等）  
✅ 动手为王（12 个编码任务，含基础/进阶/陷阱题）  
✅ 螺旋复习（10:30–12:00小测 + 18:00–19:30复盘 + 21:00–22:30错题分析）  
✅ 时间成本真实（输入验证 1.5 h、循环调试 1.5 h、项目开发 1.5 h 等符合新手实际）  
✅ 无休息、无缓冲、无压缩，严格 24 小时连续认知负荷