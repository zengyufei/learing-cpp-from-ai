### 第 1 周第 2 天 10:30–12:00 阶段详细教学内容大纲  
**阶段标题：第 2 天综合小测与螺旋复习——控制流知识整合与错误暴露**

---

#### **本阶段学习目标**  
1. 通过快速问答回顾前 6 个模块（00:00–10:30）的核心控制流概念，激活短期记忆；  
2. 完成一个覆盖 `if`、`while`、`for`、`break`、`continue` 的微型编程任务；  
3. 在限定时间内识别并修复包含典型控制流错误的代码片段，检验调试能力；  
4. 暴露知识盲点与错误习惯（如无限循环、悬空 else、`continue` 更新遗漏），为当日补漏提供依据；  
5. 建立“学→练→测→纠”闭环，强化 C++ 控制流的严谨性与反馈机制。

---

#### **本阶段知识点覆盖范围**

| 模块 | 核心考点 |
|------|--------|
| 00:00–01:30 | 布尔逻辑、短路求值、复杂条件表达式 |
| 01:30–03:00 | `if-else` 语法、悬空 else、多级条件设计 |
| 03:30–04:30 | 输入验证、`std::cin.fail()`、布尔标志变量 |
| 04:30–06:00 | `while` 循环三要素、无限循环预防、输入重试 |
| 06:00–07:30 | `for` 循环语法、作用域、嵌套循环 |
| 07:30–09:00 | 闰年/阶乘/斐波那契综合应用、边界处理 |
| 09:00–10:30 | `break` / `continue` 作用、嵌套行为、`while` 中的更新陷阱 |

---

#### **本阶段任务结构**

##### 1. **快速回顾问答（15 分钟）**
- 形式：5 道口头/文本简答题，每题限时 2–3 分钟；  
- 示例问题：
  1. `while` 和 `for` 的主要区别是什么？何时用哪个？  
  2. 什么是“悬空 else”？如何避免？  
  3. 在 `while` 循环中使用 `continue` 时，为什么容易导致无限循环？  
  4. `break` 和 `continue` 在嵌套循环中影响哪一层？  
  5. 闰年的完整判断条件是什么？

##### 2. **编程小测：交互式菜单系统（45 分钟）**
- **功能要求**：
  - 显示菜单：1. 问候 2. 单位转换 3. 退出；  
  - 用户输入选项（1/2/3），无效则提示重试；  
  - 选择 1：提示姓名+年龄，输出问候；  
  - 选择 2：执行单位转换（英寸↔厘米）；  
  - 选择 3：退出程序；  
  - 使用 `while (true)` + `break` 实现主循环；  
  - 输入验证：检测 `cin.fail()` 并重试。
- **评分维度**：
  - ✅ 主循环用 `while (true)` + `break`；  
  - ✅ 选项验证（1/2/3）；  
  - ✅ 输入类型错误处理（`cin.fail()`）；  
  - ✅ 单位转换逻辑正确；  
  - ✅ 无语法错误（花括号、分号等）。

##### 3. **错误修复挑战（30 分钟）**
- 提供一段含 **5 处典型控制流错误** 的代码，要求学生：
  1. 编译/运行，记录错误现象；
  2. 逐条修复；
  3. 验证功能正确。
- **错误代码示例**：
  ```cpp
  #include <iostream>
  int main() {
      while (true) {
          std::cout << "1. Hello 2. Convert 3. Exit: ";
          int choice;
          std::cin >> choice;
          if (choice = 1) { // 错1: 赋值而非比较
              std::string name;
              int age;
              std::cin >> name >> age;
              std::cout << "Hi " << name << ", age " << age << "\n";
          } else if (choice == 2) {
              double in;
              std::cin >> in;
              if (std::cin.fail()) continue; // 错2: 未 clear/ignore
              std::cout << "cm: " << in * 2.54 << "\n";
          } else if (choice == 3) {
              break;
          } else {
              std::cout << "Invalid\n";
          }
      }
      return 0;
  }
  ```
- **错误点**：
  1. `if (choice = 1)` → 应为 `==`；  
  2. `cin.fail()` 后未 `clear()` 和 `ignore()`，导致无限循环；  
  3. 无选项 3 的明确提示；  
  4. 无输入提示（用户体验差）；  
  5. 字符串未 `#include <string>`（编译错误）。

---

#### **跨阶段综合小测/项目**  
- 本阶段是 **第 2 天知识整合的里程碑**，其结果将：  
  - 作为当日学习成效的直接反馈；  
  - 指导 22:30–24:00 的“当日复盘”重点；  
  - 若小测未达标（如无法修复无限循环），需在当日内补练，避免错误累积。

---

#### **与前后阶段的知识衔接说明**

- **前置依赖**：综合检验 00:00–10:30 所有内容，尤其强调 **输入验证**（03:30–04:30）与 **循环控制**（09:00–10:30）；  
- **后继支撑**：  
  - 12:00–13:30 的“代码风格”将基于本阶段提交的代码进行重构训练；  
  - 第 5 天“简易计算器”项目将复用本阶段的菜单系统模式；  
- **螺旋上升点**：  
  - 第 3 周“函数封装”将把菜单选项逻辑提取为独立函数；  
  - 第 7 周“异常处理”将升级输入验证机制（当前仅观察失败，未来主动处理）。

--- 

> 本阶段虽为“测”，实为“学”的延伸。通过限时任务暴露真实理解水平，强制学生将碎片知识串联为可用能力。宁可第二天暴露问题，也不让模糊认知带入函数与数组阶段。