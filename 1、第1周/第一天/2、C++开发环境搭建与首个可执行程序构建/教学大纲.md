## **C ++开发环境搭建与首个可执行程序构建**

---

#### **本阶段学习目标**  
1. 在本地成功安装并验证 C++ 编译器（GCC/Clang/MSVC）；  
2. 掌握使用命令行编译与运行 C++ 程序的基本流程；  
3. 能独立创建、编译、运行并验证“Hello, World!”程序；  
4. 理解编译命令中关键参数（如 `-o`）的作用；  
5. 建立“编辑 → 保存 → 编译 → 运行 → 观察输出”完整开发闭环意识。

---

#### **本阶段知识点分解**

##### 1. **C++ 编译器选择与安装（平台适配）**
- **Linux**：默认通常已安装 GCC，若无则 `sudo apt install g++`（Ubuntu/Debian）或 `sudo yum install gcc-c++`（CentOS）；  
- **macOS**：安装 Xcode Command Line Tools：`xcode-select --install`（包含 Clang）；  
- **Windows**：推荐 MinGW-w 64（轻量）或 Visual Studio Community（完整 IDE）；  
  - 若用 MinGW：下载安装后，将 `bin` 目录加入系统 PATH；  
  - 验证命令：`g++ --version` 或 `clang++ --version`。
- **常见错误**：  
  - ❌ “'g++' 不是内部或外部命令” → PATH 未配置；  
  - ❌ 安装了 IDE 但未安装编译器组件（如 VS 未勾选“C++ 桌面开发”）。

##### 2. **编写第一个 C++ 程序：hello. Cpp**
- **最小合法程序结构**：
  ```cpp
  #include <iostream>
  int main() {
      std::cout << "Hello, World!" << std::endl;
      return 0;
  }
  ```
- **关键元素说明**：  
  - `#include <iostream>`：引入标准输入输出流库；  
  - `int main()`：程序入口，必须返回 int；  
  - `std::cout`：标准输出流对象；  
  - `<<`：流插入操作符；  
  - `std::endl`：换行并刷新缓冲区；  
  - `return 0;`：表示程序正常结束。
- **生活化比喻**：  
  > “`main()` 是你家的大门，操作系统从这里‘敲门’进来；  
  > `std::cout` 是你家的‘喇叭’，用来对外喊话；  
  > `#include <iostream>` 就是提前装好这个喇叭的说明书。”

##### 3. **编译与运行流程实操**
- **基本编译命令**：
  ```bash
  g++ hello.cpp -o hello
  ```
  - `g++`：调用 GCC C++ 编译器；  
  - `hello.cpp`：源文件；  
  - `-o hello`：指定输出可执行文件名为 `hello`（Windows 下默认为 `hello.exe`）。
- **运行命令**：
  - Linux/macOS：`./hello`  
  - Windows（CMD）：`hello.exe` 或直接 `hello`
- **对比练习（防混淆）**：  
  - 若省略 `-o`：`g++ hello.cpp` → 生成默认名为 `a.out`（Unix）或 `a.exe`（Windows）的文件；  
  - 若写错文件名：`g++ helo.cpp` → 报错 “No such file or directory”。

##### 4. **验证与调试初步**
- **成功标志**：终端输出 `Hello, World!` 并换行；  
- **失败场景与排查**：  
  - 编译报错 → 检查语法（如分号、拼写）；  
  - 运行时报“Permission denied”（Linux/macOS）→ 执行 `chmod +x hello`；  
  - 程序闪退（Windows GUI 终端）→ 改用 `cmd` 或在代码末尾加 `std::cin.get()`。

---

#### **本阶段动手练习任务**

- **【基础任务】环境验证与首次运行（40 分钟）**  
  1. 安装/验证编译器，截图 `g++ --version` 输出；  
  2. 用任意文本编辑器（VS Code、Notepad++、vim 等）创建 `hello.cpp`；  
  3. 编译并运行，确保输出正确；  
  4. 提交：`hello.cpp` 源码 + 终端运行截图。

- **【进阶任务】多版本 Hello 程序（30 分钟）**  
  编写三个变体：  
  1. 使用 `\n` 替代 `std::endl`；  
  2. 不使用 `using namespace std;`，全部写 `std::` 前缀；  
  3. 输出两行：“Hello” 和 “C++ World!”。  
  → 观察输出是否一致，理解 `\n` 与 `std::endl` 的差异（后者刷新缓冲区）。

- **【陷阱任务】故意制造错误并修复（20 分钟）**  
  对 `hello.cpp` 做以下修改，记录编译器报错信息并修复：  
  1. 删除 `#include <iostream>`；  
  2. 将 `main` 拼错为 `mian`；  
  3. 删除 `return 0;`（观察是否仍能编译——C++ 允许 main 省略 return，但需说明原因）。

---

#### **跨阶段综合小测/项目**  
- 本阶段内容将融入 **第 5 天的“简易计算器”项目** 的环境准备环节：  
  - 要求学生在项目提交中包含 `build.sh`（或 `build.bat`）脚本，展示其掌握编译命令；  
  - 若无法独立编译自己的项目，视为环境搭建未达标。

---

#### **与前后阶段的知识衔接说明**

- **前置依赖**：00:00–01:30 阶段已建立“编译-链接”认知模型，本阶段将其**具象化为真实操作**；  
- **后继支撑**：  
  - 03:00–04:30 的“C++ 程序结构”讲解将基于本阶段成功运行的 `hello.cpp` 展开；  
  - 若环境未正确搭建，后续所有编码练习将无法验证，形成断点；  
- **螺旋上升点**：  
  - 第 7 周“文件 I/O”将复用 `g++` 编译命令；  
  - 第 15 周“CMake 构建系统”将回溯本阶段手动编译流程，理解自动化构建的价值。

--- 

> 本阶段虽技术门槛低，但**是后续所有实践的基石**。环境问题若未在第一天解决，将导致后续学习信心崩塌。因此，必须确保每位学生“亲眼看到自己的代码变成可执行程序”。