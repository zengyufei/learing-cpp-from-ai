## **综合微型项目实战——单位转换器（英寸↔厘米）**

---

#### **本阶段学习目标**  
1. 综合运用前 16.5 小时所学知识（程序结构、变量、I/O、运算符、类型转换、错误处理、代码风格）完成一个功能完整的小型交互程序；  
2. 实现双向单位转换（英寸→厘米、厘米→英寸）并支持用户选择模式；  
3. 在程序中嵌入基础输入验证与错误提示，提升鲁棒性；  
4. 遵循代码可读性规范（命名、缩进、注释、逻辑分块），产出可维护代码；  
5. 通过“需求→设计→编码→测试→调试”全流程，体验真实开发闭环。

---

#### **本阶段知识点覆盖与整合**

| 知识模块 | 在项目中的应用 |
|--------|--------------|
| 程序结构（03:00–04:30） | 完整 `#include`、`main()`、`return 0` |
| 变量与类型（04:30–06:00） | 使用 `double` 存储长度值，`const double` 定义转换系数 |
| 输入输出（06:00–07:30） | `std::cin` 读取用户选择与数值，`std::cout` 输出提示与结果 |
| 运算符与表达式（09:00–10:30） | 使用 `*` 和 `/` 进行转换计算，注意 `5.0/2` vs `5/2` |
| 类型转换（10:30–12:00） | 确保浮点运算精度，避免整数除法陷阱 |
| 错误分类与调试（15:00–16:30） | 检测 `cin.fail()`，处理非法输入 |
| 代码风格（13:30–15:00） | 小驼峰命名、2 空格缩进、逻辑分块、必要注释 |

---

#### **本阶段项目需求说明**

##### 功能要求
1. **启动时显示菜单**：
   ```
   Unit Converter:
   2. Inches to Centimeters
   3. Centimeters to Inches
   Choose an option (1 or 2):
   ```
4. **读取用户选项**（1 或 2）；  
5. **根据选项提示输入数值**（如 “Enter length in inches: ”）；  
6. **执行转换并输出结果**（保留默认精度）；  
7. **若输入非法（非数字、选项非 1/2），显示错误并退出**。

##### 非功能要求
- 使用 `const double CM_PER_INCH = 2.54;` 定义转换系数；  
- 变量命名清晰（如 `userChoice`, `inputValue`, `result`）；  
- 代码分三块：输入处理 → 转换计算 → 结果输出；  
- 至少包含一行解释性注释（如转换公式）；  
- 程序结构完整，无语法错误。

---

#### **本阶段开发流程指导**

##### 1. **分步实现策略（推荐顺序）**
- **Step 1**：实现单向转换（如英寸→厘米）；  
- **Step 2**：添加菜单与选项读取；  
- **Step 3**：扩展为双向转换（用 `if-else`，虽未正式学，但可模仿）；  
- **Step 4**：加入输入验证（`cin.fail()` 检查）；  
- **Step 5**：重构代码风格（命名、缩进、注释）。

> 注：`if-else` 逻辑虽属第 2 天内容，但此处仅作**模式模仿**（提供模板），不深入讲解，聚焦综合应用。

##### 2. **参考代码骨架（供模仿）**
```cpp
#include <iostream>

int main() {
    // 显示菜单
    std::cout << "Unit Converter:\n";
    std::cout << "1. Inches to Centimeters\n";
    std::cout << "2. Centimeters to Inches\n";
    std::cout << "Choose an option (1 or 2): ";

    int userChoice;
    std::cin >> userChoice;

    // 输入验证：选项必须为1或2
    if (userChoice != 1 && userChoice != 2) {
        std::cout << "Invalid option!\n";
        return 1;
    }

    double inputValue;
    std::cout << "Enter length: ";
    std::cin >> inputValue;

    if (std::cin.fail()) {
        std::cout << "Invalid number!\n";
        return 1;
    }

    const double CM_PER_INCH = 2.54;
    double result;

    if (userChoice == 1) {
        result = inputValue * CM_PER_INCH; // 英寸 → 厘米
    } else {
        result = inputValue / CM_PER_INCH; // 厘米 → 英寸
    }

    std::cout << "Result: " << result << std::endl;
    return 0;
}
```

---

#### **本阶段动手练习任务**

- **【核心任务】单位转换器开发（70 分钟）**  
  1. 独立编写程序，满足上述功能与非功能要求；  
  2. 测试以下用例：  
     - 正常：选项 1，输入 10 → 输出 25.4；  
     - 正常：选项 2，输入 25.4 → 输出 10；  
     - 异常：选项 3 → “Invalid option”；  
     - 异常：输入字母 → “Invalid number”。  
  3. 提交源码 + 测试截图。

- **【挑战任务】增强健壮性（20 分钟）**  
  - 支持重复运行（提示“Continue? (y/n)”），为第 2 天循环做铺垫；  
  - 输出结果保留两位小数（可查 `std::fixed` + `std::setprecision`，非强制）。

---

#### **跨阶段综合小测/项目**  
- 本项目是 **第 1 天知识整合的里程碑成果**，将作为：  
  - 当日学习成效的直接体现；  
  - 第 5 天“简易计算器”项目的风格与结构模板；  
  - 后续“错题回顾”环节的典型分析案例（如未处理输入错误）。  
- 若项目无法处理基本异常或风格混乱，需在当日内返工。

---

#### **与前后阶段的知识衔接说明**

- **前置依赖**：综合调用 00:00–16:30 所有模块，尤其依赖 **输入验证**（15:00–16:30）与 **类型精度**（10:30–12:00）；  
- **后继支撑**：  
  - 18:00–19:30 的“头文件初步”将解释 `#include <iostream>` 的作用；  
  - 第 2 天“控制流”将正式学习 `if-else`，回溯本项目中的模仿用法；  
- **螺旋上升点**：  
  - 第 3 周“函数封装”将把转换逻辑提取为独立函数；  
  - 第 7 周“文件 I/O”将扩展为读取配置文件（如自定义转换系数）。

--- 

> 本项目虽小，却是学生首次体验“从需求到可运行程序”的完整工程闭环。必须通过亲手处理边界情况、验证输入、规范代码，建立对软件质量的初步敬畏。宁可第一天多花时间打磨，也不让“能跑就行”的心态带入后续复杂主题。