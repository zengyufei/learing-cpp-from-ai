
## **综合微型项目实战——单位转换器（英寸↔厘米）**  

---

### 【第 1 步：项目引入——你的第一个“产品”】（16:30–16:40）

> 同学，过去 16 个半小时，你已经掌握了 C++ 的“字母、单词、句子”。  
>  
> 现在，是时候**写一篇完整的短文**了。  
>  
> 今天最后这个项目，不是练习题，而是一个**真实可用的小工具**：**单位转换器**。  
>  
> 它能：  
> - 把英寸转成厘米；  
> - 把厘米转成英寸；  
> - 告诉用户输错了；  
> - 代码清晰，别人能看懂。  
>  
> 这是你今天学习的**终极整合**——环境、语法、变量、I/O、运算、错误处理、代码风格，全部用上。  
>  
> 准备好发布你的第一个 C++ “产品”了吗？

---

### 【第 2 步：需求拆解——我们要做什么？】（16:40–16:50）

> 明确需求，是专业开发的第一步。我们的转换器必须：

> ✅ **启动时显示菜单**：
> ```
> Unit Converter:
> 1. Inches to Centimeters
> 2. Centimeters to Inches
> Choose an option (1 or 2):
> ```

> ✅ **根据选择，提示用户输入数值**；  
> ✅ **正确转换并输出结果**（1 英寸 = 2.54 厘米）；  
> ✅ **如果用户输错（字母、无效选项），友好提示并退出**；  
> ✅ **代码整洁**：命名清晰、缩进规范、有注释。

> **生活化比喻**：  
> > “这就像一个自动售货机：  
> > - 屏幕显示选项（菜单）；  
> > - 你按 1 或 2（选择）；  
> > - 输入金额（数值）；  
> > - 它出货或报错（结果/错误提示）。  
> >  
> > 我们要做的，就是这台机器的‘大脑’。”

---

### 【第 3 步：分步示范——从骨架到血肉】（16:50–17:10）

> 我们一步步搭建：

> **第一步：菜单与选项读取**
> ```cpp
> std::cout << "Unit Converter:\n";
> std::cout << "1. Inches to Centimeters\n";
> std::cout << "2. Centimeters to Inches\n";
> std::cout << "Choose an option (1 or 2): ";
> 
> int userChoice;
> std::cin >> userChoice;
> ```

> **第二步：验证选项**
> ```cpp
> if (userChoice != 1 && userChoice != 2) {
>     std::cout << "Invalid option!\n";
>     return 1; // 非零表示异常退出
> }
> ```

> **第三步：读取长度值 + 输入验证**
> ```cpp
> double inputValue;
> std::cout << "Enter length: ";
> std::cin >> inputValue;
> 
> if (std::cin.fail()) {
>     std::cout << "Invalid number!\n";
>     return 1;
> }
> ```

> **第四步：转换计算（用 const 避免魔法数字）**
> ```cpp
> const double CM_PER_INCH = 2.54;
> double result;
> 
> if (userChoice == 1) {
>     result = inputValue * CM_PER_INCH; // 英寸 → 厘米
> } else {
>     result = inputValue / CM_PER_INCH; // 厘米 → 英寸
> }
> ```

> **第五步：输出结果**
> ```cpp
> std::cout << "Result: " << result << std::endl;
> ```

> **注意**：我们用了 `if-else`，虽然明天才正式学，但今天**只模仿结构**——重点是综合应用，不是学新语法。

---

### 【第 4 步：动手开发——你来写，我来陪】（17:10–17:40）

> 现在，请你独立完成：

> **【核心任务】单位转换器（50 分钟）**  
> 1. 创建 `converter.cpp`；  
> 2. 按上述逻辑编写完整程序；  
> 3. **必须包含**：  
>    - `const double CM_PER_INCH = 2.54;`  
>    - 变量名：`userChoice`, `inputValue`, `result`；  
>    - 输入验证（选项 + 数值）；  
>    - 2 空格缩进，逻辑分块，至少一行注释。

> **测试用例**（务必验证）：  
> - ✅ 输入 `1`，然后 `10` → 输出 `25.4`；  
> - ✅ 输入 `2`，然后 `25.4` → 输出 `10`；  
> - ❌ 输入 `3` → “Invalid option”；  
> - ❌ 输入 `1`，然后 `abc` → “Invalid number”。

> **提示**：如果卡住，先实现单向转换（如只做英寸→厘米），再扩展。

---

### 【第 5 步：即时反馈——常见问题预判】（17:40–17:50）

> 我预判你会遇到这些问题：

> **问题 1**：输 `abc` 后程序“卡住”或输出 0？  
> → 忘了 `if (std::cin.fail())`！必须检查输入流状态。

> **问题 2**：`10 / 2.54` 输出整数？  
> → 确保 `inputValue` 是 `double`，不是 `int`。

> **问题 3**：选项输 `1.0` 被当作无效？  
> → 因为 `cin >> int` 读 `1.0` 会取整为 `1`，但小数点残留在缓冲区——本阶段可接受，第 3 周深入。

> **记住**：**能处理基本错误，比功能炫酷更重要**。

---

### 【第 6 步：挑战任务（可选）——为明天埋下种子】（17:50–17:55）

> 如果你提前完成，试试这个挑战：
> ```cpp
> char again;
> std::cout << "Continue? (y/n): ";
> std::cin >> again;
> if (again == 'y') {
>     // 如何回到菜单？（提示：明天学循环）
> }
> ```
> 不要求实现循环，但可以思考：“如果能重复运行，用户体验会更好。”

---

### 【第 7 步：总结 + 衔接下一阶段】（17:55–18:00）

> 今天我们完成了 C++ 学习的第一个**完整产品**：  
>  
> ✅ 综合应用了所有已学知识；  
> ✅ 实现了交互、计算、错误处理；  
> ✅ 产出了风格规范的可维护代码。  
>  
> 这不是玩具，而是一个**真实的工具**——你可以用它量屏幕、算身高。  
>  
> 但你可能还有疑问：  
> - `#include <iostream>` 到底是什么？  
> - 为什么要有头文件？  
>  
> 下一阶段（18:00–19:30），我们将揭开 **头文件与多文件初步概念** 的面纱，理解 C++ 项目的“模块化”起点。  
>  
> 而你今天写的 `converter.cpp`，就是未来更大项目的“第一块积木”。  
>  
> 恭喜你，走完了 C++ 第一天的全程。现在，去测试你的转换器吧！

---

> 📌 **教学原则达成检查**：  
> - ✅ 结构先行：以“需求 → 设计 → 编码 → 测试”为工程闭环；  
> - ✅ 生活化比喻：“自动售货机”贯穿项目讲解；  
> - ✅ 动手为王：核心任务覆盖功能+非功能需求，含明确测试用例；  
> - ✅ 防错前置：强调输入验证、类型精度、错误退出；  
> - ✅ 衔接清晰：为18:00–19:30的头文件概念提供 `#include` 实例，为第 2 天循环埋下“重复运行”伏笔。
