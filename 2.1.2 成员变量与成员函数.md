å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **2.1.2ï¼šæˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•°**ã€‚

è¿™æ˜¯ C++ **é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºçŸ³**ï¼Œä¹Ÿæ˜¯ä»**æ•°æ®èšåˆ**è¿ˆå‘**è¡Œä¸ºå°è£…**çš„å…³é”®ä¸€æ­¥ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ å·²ç†Ÿæ‚‰ç±»çš„æˆå‘˜æ¦‚å¿µï¼Œä½† C++ æä¾›äº†**æ›´ç²¾ç»†çš„æ§åˆ¶**ï¼ˆå¦‚æˆå‘˜åˆå§‹åŒ–é¡ºåºã€`mutable` å…³é”®å­—ã€`this` æŒ‡é’ˆæ˜¾å¼ä½¿ç”¨ï¼‰ã€‚ç†è§£æˆå‘˜å˜é‡ä¸å‡½æ•°çš„å£°æ˜ã€å®šä¹‰ã€è®¿é—®è§„åˆ™ï¼Œæ˜¯æŒæ¡ C++ ç±»è®¾è®¡çš„åŸºç¡€ã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆæˆå‘˜åœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€/è¿›é˜¶/é™·é˜±é¢˜ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 2.1.1 + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨ learning + å¤ç›˜

---

## ğŸ¯ KU 2.1.2ï¼šæˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•°

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 2 â€” é¢å‘å¯¹è±¡ç¼–ç¨‹  
> **å‰ç½®çŸ¥è¯†**ï¼š2.1.1ï¼ˆclass/struct ç­‰ä»·æ€§ï¼‰ã€Java class ç»éªŒ  
> **åç»­è¡”æ¥**ï¼š2.2ï¼ˆæ„é€ å‡½æ•°ï¼‰ã€2.10ï¼ˆconst æˆå‘˜å‡½æ•°ï¼‰  
> **é¢„è®¡è€—æ—¶**ï¼š2â€“3 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šæˆå‘˜åœ°å›¾

```
2.1.2 æˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•°
â”œâ”€â”€ 1. æˆå‘˜å˜é‡
â”‚   â”œâ”€â”€ 1.1 å£°æ˜ï¼šè®¿é—®æ§åˆ¶ï¼ˆpublic/private/protectedï¼‰
â”‚   â”œâ”€â”€ 1.2 åˆå§‹åŒ–ï¼šæ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨
â”‚   â”œâ”€â”€ 1.3 ç‰¹æ®Šæˆå‘˜ï¼šmutableï¼ˆå¯å˜ï¼‰
â”‚   â””â”€â”€ 1.4 é™æ€æˆå‘˜ï¼šstaticï¼ˆç±»çº§åˆ«ï¼‰
â”œâ”€â”€ 2. æˆå‘˜å‡½æ•°
â”‚   â”œâ”€â”€ 2.1 å£°æ˜ä¸å®šä¹‰ï¼ˆç±»å†…/ç±»å¤–ï¼‰
â”‚   â”œâ”€â”€ 2.2 this æŒ‡é’ˆï¼šéšå¼å‚æ•°
â”‚   â”œâ”€â”€ 2.3 const æˆå‘˜å‡½æ•°ï¼ˆæ‰¿è¯ºä¸ä¿®æ”¹çŠ¶æ€ï¼‰
â”‚   â””â”€â”€ 2.4 é™æ€æˆå‘˜å‡½æ•°ï¼ˆæ—  thisï¼‰
â”œâ”€â”€ 3. è®¿é—®æ§åˆ¶
â”‚   â”œâ”€â”€ 3.1 publicï¼šå¤–éƒ¨å¯è§
â”‚   â”œâ”€â”€ 3.2 privateï¼šç±»å†…å¯è§
â”‚   â””â”€â”€ 3.3 protectedï¼šæ´¾ç”Ÿç±»å¯è§
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 C++: æ˜¾å¼ thisï¼Œmutableï¼Œåˆå§‹åŒ–åˆ—è¡¨
â”‚   â””â”€â”€ 4.2 Java: éšå¼ thisï¼Œæ—  mutableï¼Œæ„é€ å™¨èµ‹å€¼
â””â”€â”€ 5. æœ€ä½³å®è·µ
    â”œâ”€â”€ 5.1 æˆå‘˜å˜é‡ privateï¼ˆå°è£…ï¼‰
    â”œâ”€â”€ 5.2 æˆå‘˜å‡½æ•° constï¼ˆå®‰å…¨ï¼‰
    â””â”€â”€ 5.3 åˆå§‹åŒ–åˆ—è¡¨ä¼˜äºæ„é€ å‡½æ•°ä½“èµ‹å€¼
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½æ­£ç¡®å®šä¹‰å’Œä½¿ç”¨æˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•°ï¼Œç†è§£è®¿é—®æ§åˆ¶ã€`this` æŒ‡é’ˆã€`mutable` ç­‰ç‰¹æ€§ã€‚
- **Measurable**ï¼šå®Œæˆ 2 é“åŸºç¡€é¢˜ + 2 é“é™·é˜±é¢˜ï¼Œèƒ½è§£é‡Šä¸ºä½•åˆå§‹åŒ–åˆ—è¡¨ä¼˜äºæ„é€ å‡½æ•°ä½“èµ‹å€¼ã€‚
- **Achievable**ï¼šé€šè¿‡â€œæ™ºèƒ½å¯¹è±¡â€æ¯”å–»ç†è§£æˆå‘˜å°è£…ã€‚
- **Relevant**ï¼šè¿™æ˜¯ç¼–å†™å®‰å…¨ã€é«˜æ•ˆ C++ ç±»çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1â€“2 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šæ™ºèƒ½å¯¹è±¡

> æƒ³è±¡ä¸€ä¸ª**æ™ºèƒ½å¯¹è±¡**ï¼š
>
> - **æˆå‘˜å˜é‡ = å†…éƒ¨çŠ¶æ€**  
>   - å¦‚ç”µæ± ç”µé‡ã€é…ç½®å‚æ•°
>   - **é»˜è®¤éšè—**ï¼ˆprivateï¼‰ï¼Œä»…é€šè¿‡æ¥å£è®¿é—®
>
> - **æˆå‘˜å‡½æ•° = è¡Œä¸ºæ¥å£**  
>   - å¦‚å……ç”µã€è·å–ç”µé‡
>   - **æ‰¿è¯ºä¸ä¿®æ”¹çŠ¶æ€**ï¼ˆconst å‡½æ•°ï¼‰
>
> - **mutable æˆå‘˜ = è°ƒè¯•æ—¥å¿—**  
>   - å³ä½¿å¯¹è±¡ constï¼Œä¹Ÿå¯è®°å½•è®¿é—®æ¬¡æ•°
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java å¯¹è±¡ç±»ä¼¼ï¼Œä½† C++ æä¾›**æ›´ç²¾ç»†æ§åˆ¶**ï¼š  
>     - `mutable` å…è®¸ const å¯¹è±¡å±€éƒ¨ä¿®æ”¹  
>     - åˆå§‹åŒ–åˆ—è¡¨ç¡®ä¿é«˜æ•ˆæ„é€ 

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**C++ æˆå‘˜è®¾è®¡å¼ºè°ƒå°è£…ä¸æ•ˆç‡ï¼ŒJava å¼ºè°ƒå®‰å…¨ä¸ç®€æ´**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. æˆå‘˜å˜é‡
- **è®¿é—®æ§åˆ¶**ï¼š
  ```cpp
  class MyClass {
  private:
      int secret_;        // ä»…ç±»å†…å¯è§
  protected:
      int shared_;        // æ´¾ç”Ÿç±»å¯è§
  public:
      int public_;        // å¤–éƒ¨å¯è§
  };
  ```
- **åˆå§‹åŒ–**ï¼š
  - **å¿…é¡»é€šè¿‡æ„é€ å‡½æ•°**ï¼ˆæ— é»˜è®¤åˆå§‹åŒ–ï¼‰
  - **åˆå§‹åŒ–åˆ—è¡¨**ï¼ˆé«˜æ•ˆï¼‰ï¼š
    ```cpp
    MyClass::MyClass(int s) : secret_(s) {} // åˆå§‹åŒ–åˆ—è¡¨
    ```
- **`mutable` æˆå‘˜**ï¼š
  - å³ä½¿å¯¹è±¡ `const`ï¼Œä¹Ÿå¯ä¿®æ”¹
  ```cpp
  class Cache {
      mutable int last_access_;
  public:
      int get() const {
          last_access_ = time(nullptr); // OKï¼
          return value_;
      }
  };
  ```
- **é™æ€æˆå‘˜**ï¼š
  - ç±»çº§åˆ«ï¼ˆæ‰€æœ‰å¯¹è±¡å…±äº«ï¼‰
  ```cpp
  class Counter {
      static int count_; // å£°æ˜
  };
  int Counter::count_ = 0; // å®šä¹‰ï¼ˆ.cppï¼‰
  ```

#### 2. æˆå‘˜å‡½æ•°
- **å£°æ˜ä¸å®šä¹‰**ï¼š
  - **ç±»å†…å®šä¹‰**ï¼šéšå¼ `inline`
    ```cpp
    class Point {
    public:
        double x() const { return x_; } // inline
    private:
        double x_;
    };
    ```
  - **ç±»å¤–å®šä¹‰**ï¼š
    ```cpp
    // Point.h
    class Point {
    public:
        double distance() const;
    private:
        double x_, y_;
    };
    
    // Point.cpp
    double Point::distance() const { // ä½œç”¨åŸŸè§£æ
        return std::sqrt(x_*x_ + y_*y_);
    }
    ```
- **`this` æŒ‡é’ˆ**ï¼š
  - éšå¼å‚æ•°ï¼š`MyClass* const this`
  - æ˜¾å¼ä½¿ç”¨ï¼ˆé¿å…å‘½åå†²çªï¼‰ï¼š
    ```cpp
    void set_x(int x) {
        this->x_ = x; // æ˜ç¡®æŒ‡å®šæˆå‘˜
    }
    ```
- **`const` æˆå‘˜å‡½æ•°**ï¼š
  - æ‰¿è¯ºä¸ä¿®æ”¹é `mutable` æˆå‘˜
  ```cpp
    double x() const { return x_; } // OK
    // void set_x(int x) const { x_ = x; } // Error!
    ```
- **é™æ€æˆå‘˜å‡½æ•°**ï¼š
  - æ—  `this` æŒ‡é’ˆ
  ```cpp
    static int get_count() { return count_; }
    ```

#### 3. è®¿é—®æ§åˆ¶
| å…³é”®å­— | å¯è§æ€§ | å…¸å‹ç”¨é€” |
|--------|--------|---------|
| `public` | å¤–éƒ¨ | æ¥å£å‡½æ•°ã€å…¬æœ‰æ•°æ®ï¼ˆstructï¼‰ |
| `private` | ä»…ç±»å†… | å°è£…æ•°æ®ã€è¾…åŠ©å‡½æ•° |
| `protected` | æ´¾ç”Ÿç±» | ç»§æ‰¿æ¥å£ |

#### 4. ä¸ Java çš„å¯¹æ¯”
| ç‰¹æ€§ | C++ | Java |
|------|-----|------|
| **this æŒ‡é’ˆ** | æ˜¾å¼å¯ç”¨ | éšå¼ï¼ˆ`this.x`ï¼‰ |
| **mutable** | âœ… æ”¯æŒ | âŒ æ—  |
| **åˆå§‹åŒ–** | åˆå§‹åŒ–åˆ—è¡¨ | æ„é€ å™¨èµ‹å€¼ |
| **const å‡½æ•°** | âœ… ç¼–è¯‘æœŸå¼ºåˆ¶ | âŒ æ— ï¼ˆé  final å­—æ®µï¼‰ |

#### 5. æœ€ä½³å®è·µ
- **å°è£…åŸåˆ™**ï¼š
  - æˆå‘˜å˜é‡ **`private`**ï¼ˆé™¤ POD structï¼‰
  - é€šè¿‡ **`public` æˆå‘˜å‡½æ•°**è®¿é—®
- **const æ­£ç¡®æ€§**ï¼š
  - æŸ¥è¯¢å‡½æ•°æ ‡è®° **`const`**
- **é«˜æ•ˆåˆå§‹åŒ–**ï¼š
  - **åˆå§‹åŒ–åˆ—è¡¨**ä¼˜äºæ„é€ å‡½æ•°ä½“èµ‹å€¼
  ```cpp
  // å¥½
  MyClass(int x) : x_(x) {}
  
  // å·®ï¼ˆå…ˆé»˜è®¤æ„é€ ï¼Œå†èµ‹å€¼ï¼‰
  MyClass(int x) { x_ = x; }
  ```

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œæˆå‘˜å˜é‡ privateï¼Œå‡½æ•° constï¼Œåˆå§‹åŒ–ç”¨åˆ—è¡¨â€**

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šåŸºæœ¬æˆå‘˜å˜é‡ä¸å‡½æ•°
```cpp
#include <iostream>
#include <cmath>

class Point {
private:
    double x_, y_;
    
public:
    // æ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–åˆ—è¡¨ï¼‰
    Point(double x = 0, double y = 0) : x_(x), y_(y) {}
    
    // const æˆå‘˜å‡½æ•°
    double x() const { return x_; }
    double y() const { return y_; }
    double distance() const {
        return std::sqrt(x_*x_ + y_*y_);
    }
    
    // é const æˆå‘˜å‡½æ•°
    void set_x(double x) { x_ = x; }
    void set_y(double y) { y_ = y; }
};

int main() {
    const Point origin; // const å¯¹è±¡
    std::cout << "Origin distance: " << origin.distance() << "\n";
    
    Point p(3.0, 4.0);
    std::cout << "P distance: " << p.distance() << "\n";
    
    // origin.set_x(1.0); // Error! const å¯¹è±¡
    return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šmutable ä¸é™æ€æˆå‘˜
```cpp
#include <iostream>

class Counter {
private:
    static int total_count_;      // é™æ€æˆå‘˜
    mutable int access_count_;    // mutable æˆå‘˜
    
public:
    Counter() : access_count_(0) { ++total_count_; }
    
    int get_total() const {
        return total_count_;
    }
    
    int get_and_inc_access() const {
        return ++access_count_; // OK! mutable
    }
};

// é™æ€æˆå‘˜å®šä¹‰
int Counter::total_count_ = 0;

int main() {
    const Counter c1, c2;
    std::cout << "Total: " << c1.get_total() << "\n"; // 2
    std::cout << "C1 access: " << c1.get_and_inc_access() << "\n"; // 1
    std::cout << "C1 access: " << c1.get_and_inc_access() << "\n"; // 2
    return 0;
}
```

#### ç¤ºä¾‹ 3ï¼šJava å¯¹æ¯”
```java
// Java Member Example
public class Point {
    private double x, y;
    
    public Point(double x, double y) {
        this.x = x; // éšå¼ this
        this.y = y;
    }
    
    public double distance() {
        return Math.sqrt(x*x + y*y);
    }
    
    // Java æ—  const å‡½æ•°ï¼Œæ—  mutable
}
```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **æˆå‘˜å‡½æ•°å®šä¹‰**  
   - ä¸º `Rectangle` ç±»æ·»åŠ  `area() const` æˆå‘˜å‡½æ•°

2. **mutable ä½¿ç”¨**  
   - å®ç° `Cache` ç±»ï¼Œç”¨ `mutable` è®°å½•è®¿é—®æ¬¡æ•°

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **åˆå§‹åŒ–åˆ—è¡¨**  
   - æ¯”è¾ƒåˆå§‹åŒ–åˆ—è¡¨ä¸æ„é€ å‡½æ•°ä½“èµ‹å€¼çš„æ€§èƒ½

4. **é™æ€æˆå‘˜**  
   - å®ç° `ObjectCounter` ç±»ï¼Œç»Ÿè®¡å­˜æ´»å¯¹è±¡æ•°

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
5. **â€œæˆå‘˜å˜é‡èƒ½é»˜è®¤åˆå§‹åŒ–å§ï¼Ÿâ€**  
   - Q: `class C { int x; }; C c;` ä¸­ `c.x` ä¸º 0 å—ï¼Ÿ  
   - A: âŒ **æœªå®šä¹‰**ï¼  
     â†’ C++ **æ— é»˜è®¤åˆå§‹åŒ–**ï¼ˆPOD ç±»å‹ï¼‰  
     â†’ å¿…é¡»æ˜¾å¼åˆå§‹åŒ–

6. **â€œconst å‡½æ•°èƒ½è°ƒç”¨ä»»ä½•å‡½æ•°å§ï¼Ÿâ€**  
   - Q: `const` æˆå‘˜å‡½æ•°èƒ½è°ƒç”¨é `const` æˆå‘˜å‡½æ•°å—ï¼Ÿ  
   - A: âŒ **ä¸èƒ½**ï¼  
     â†’ ä¼šç ´å const å¥‘çº¦ â†’ **ç¼–è¯‘é”™è¯¯**

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **é»˜è®¤åˆå§‹åŒ–** | POD ç±»å‹éœ€æ˜¾å¼åˆå§‹åŒ– |
| **const å‡½æ•°** | æŸ¥è¯¢æ–¹æ³•å¿…é¡» const |
| **mutable** | ä»…ç”¨äºç¼“å­˜ã€è°ƒè¯•ã€çº¿ç¨‹å®‰å…¨è®¡æ•° |
| **åˆå§‹åŒ–åˆ—è¡¨** | ä¼˜å…ˆä½¿ç”¨ï¼ˆå°¤å…¶ const/å¼•ç”¨æˆå‘˜ï¼‰ |
| **ç°ä»£å®è·µ** | æˆå‘˜å˜é‡ privateï¼Œæ¥å£ const-correct

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œå°è£…é  privateï¼Œå®‰å…¨é  constï¼Œé«˜æ•ˆé åˆå§‹åŒ–åˆ—è¡¨â€**

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 2.1.1**ï¼šclass/struct é»˜è®¤æƒé™å½±å“æˆå‘˜å¯è§æ€§  
- **Java ç»éªŒ**ï¼šC++ æä¾›æ›´ç²¾ç»†çš„æˆå‘˜æ§åˆ¶  
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™æˆå‘˜å‡½æ•°çš„ä¸‰å¤§ç‰¹æ€§ï¼ˆthis, const, staticï¼‰

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œä¸ºä»€ä¹ˆåˆå§‹åŒ–åˆ—è¡¨æ¯”æ„é€ å‡½æ•°ä½“é«˜æ•ˆï¼Ÿâ€
   - â€œå¦‚ä½•ç”¨ mutable å®ç°çº¿ç¨‹å®‰å…¨è®¡æ•°ï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º C++ ä¸ Java æˆå‘˜è®¾è®¡å¯¹æ¯”
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆæˆå‘˜å˜é‡åº”è¯¥ privateâ€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½æ­£ç¡®å®šä¹‰æˆå‘˜å˜é‡ä¸å‡½æ•°  
âœ… æˆ‘ç†è§£ mutable å’Œ const æˆå‘˜å‡½æ•°  
âœ… æˆ‘ä¼šç”¨åˆå§‹åŒ–åˆ—è¡¨é«˜æ•ˆæ„é€   
âœ… æˆ‘çŸ¥é“ä¸ Java çš„æˆå‘˜è®¾è®¡å·®å¼‚  
âœ… æˆ‘æ˜ç™½ç°ä»£ C++ çš„å°è£…æœ€ä½³å®è·µ

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 5 å’Œ 6

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å·²æŒæ¡ **C++ æˆå‘˜å˜é‡ä¸å‡½æ•°çš„æ ¸å¿ƒçŸ¥è¯†**ï¼

æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š
1. **ç»§ç»­å­¦ä¹  2.1.3 è®¿é—®æ§åˆ¶ï¼špublic / private / protected**
2. **è¯·æ±‚ç”Ÿæˆã€ŒC++ æˆå‘˜è®¾è®¡é€ŸæŸ¥å¡ã€**
3. **è·³è½¬åˆ°ç»ƒä¹ é¢˜ç­”æ¡ˆä¸è§£æ**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼