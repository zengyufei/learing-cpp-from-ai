å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **1.6.1ï¼šstruct å®šä¹‰ä¸æˆå‘˜è®¿é—®ï¼ˆ. æ“ä½œç¬¦ï¼‰**ã€‚

è¿™æ˜¯ C++ **ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹**çš„èµ·ç‚¹ï¼Œä¹Ÿæ˜¯ä» C é£æ ¼æ•°æ®èšåˆè¿ˆå‘ C++ é¢å‘å¯¹è±¡ç¼–ç¨‹çš„**ç¬¬ä¸€å—åŸºçŸ³**ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ ç†Ÿæ‚‰ `class`ï¼Œè€Œ C++ çš„ `struct` ä¸ `class` å‡ ä¹ç­‰ä»·ï¼Œåªæ˜¯**é»˜è®¤è®¿é—®æƒé™ä¸åŒ**ã€‚ç†è§£ `struct`ï¼Œæ˜¯æŒæ¡ C++ ç±»ã€POD ç±»å‹ã€å†…å­˜å¸ƒå±€çš„åŸºç¡€ã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆstruct åœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€/è¿›é˜¶/é™·é˜±é¢˜ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 1.5 + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨å­¦ä¹  + å¤ç›˜

---

## ğŸ¯ KU 1.6.1ï¼šstruct å®šä¹‰ä¸æˆå‘˜è®¿é—®

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 1 â€” C++ è¯­æ³•åŸºç¡€  
> **å‰ç½®çŸ¥è¯†**ï¼š1.5ï¼ˆå‡½æ•°åŸºç¡€ï¼‰ã€Java class ç»éªŒ  
> **åç»­è¡”æ¥**ï¼š1.6.2ï¼ˆstruct ä¸ class å·®å¼‚ï¼‰ã€2.1ï¼ˆç±»ä¸å¯¹è±¡ï¼‰  
> **é¢„è®¡è€—æ—¶**ï¼š2â€“3 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šstruct åœ°å›¾

```
1.6.1 struct å®šä¹‰ä¸æˆå‘˜è®¿é—®
â”œâ”€â”€ 1. struct å®šä¹‰è¯­æ³•
â”‚   â”œâ”€â”€ 1.1 åŸºæœ¬è¯­æ³•ï¼šstruct Name { ... };
â”‚   â”œâ”€â”€ 1.2 æˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•°
â”‚   â””â”€â”€ 1.3 é»˜è®¤ public è®¿é—®æƒé™
â”œâ”€â”€ 2. æˆå‘˜è®¿é—®æ“ä½œç¬¦
â”‚   â”œâ”€â”€ 2.1 . æ“ä½œç¬¦ï¼šå¯¹è±¡.æˆå‘˜
â”‚   â”œâ”€â”€ 2.2 -> æ“ä½œç¬¦ï¼šæŒ‡é’ˆ->æˆå‘˜ï¼ˆé¢„å‘Šï¼‰
â”‚   â””â”€â”€ 2.3 ä¸ Java . æ“ä½œç¬¦å¯¹æ¯”
â”œâ”€â”€ 3. å†…å­˜å¸ƒå±€
â”‚   â”œâ”€â”€ 3.1 æˆå‘˜é¡ºåº = å£°æ˜é¡ºåº
â”‚   â”œâ”€â”€ 3.2 å¯¹é½ä¸å¡«å……ï¼ˆpaddingï¼‰
â”‚   â””â”€â”€ 3.3 sizeof(struct) â‰¥ æˆå‘˜å¤§å°ä¹‹å’Œ
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 Java æ—  structï¼ˆç”¨ class æ¨¡æ‹Ÿï¼‰
â”‚   â””â”€â”€ 4.2 C++ struct å¯åŒ…å«å‡½æ•°
â””â”€â”€ 5. å¸¸è§ç”¨é€”ä¸æœ€ä½³å®è·µ
    â”œâ”€â”€ 5.1 æ•°æ®èšåˆï¼ˆPODï¼‰
    â”œâ”€â”€ 5.2 ç®€å•å¯¹è±¡ï¼ˆæ— ç»§æ‰¿ï¼‰
    â””â”€â”€ 5.3 ä¸ class çš„é€‰æ‹©æŒ‡å—
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½æ­£ç¡®å®šä¹‰ `struct`ï¼Œä½¿ç”¨ `.` æ“ä½œç¬¦è®¿é—®æˆå‘˜ï¼Œå¹¶ç†è§£å…¶å†…å­˜å¸ƒå±€ã€‚
- **Measurable**ï¼šå®Œæˆ 2 é“åŸºç¡€é¢˜ + 2 é“é™·é˜±é¢˜ï¼Œèƒ½è§£é‡Šä¸ºä½• `sizeof(struct)` å¯èƒ½å¤§äºæˆå‘˜ä¹‹å’Œã€‚
- **Achievable**ï¼šé€šè¿‡â€œæ•°æ®å¡ç‰‡â€æ¯”å–»ç†è§£ structã€‚
- **Relevant**ï¼šè¿™æ˜¯ C++ é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1â€“2 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šæ•°æ®å¡ç‰‡ç³»ç»Ÿ

> æƒ³è±¡ä¸€å¼ **å‘˜å·¥ä¿¡æ¯å¡**ï¼š
>
> - **struct = å¡ç‰‡æ¨¡æ¿**  
>   - å®šä¹‰å­—æ®µï¼šå§“åï¼ˆstringï¼‰ã€å¹´é¾„ï¼ˆintï¼‰ã€éƒ¨é—¨ï¼ˆstringï¼‰
> - **å¯¹è±¡ = å…·ä½“å¡ç‰‡**  
>   - å¼ ä¸‰çš„å¡ç‰‡ï¼š{"å¼ ä¸‰", 30, "ç ”å‘"}
> - **. æ“ä½œç¬¦ = è¯»å–å¡ç‰‡å­—æ®µ**  
>   - `employee.name` â†’ "å¼ ä¸‰"
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java ç”¨ `class Employee { ... }` å®ç°ç›¸åŒåŠŸèƒ½  
>   - **C++ struct æ›´è½»é‡**ï¼ˆé»˜è®¤ publicï¼Œæ— è™šå‡½æ•°å¼€é”€ï¼‰

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**struct æ˜¯æ•°æ®èšåˆçš„è“å›¾ï¼Œå¯¹è±¡æ˜¯å…·ä½“å®ä¾‹**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. struct å®šä¹‰è¯­æ³•
- **åŸºæœ¬è¯­æ³•**ï¼š
  ```cpp
  struct Point {
      double x;
      double y;
  };
  ```
- **æˆå‘˜å‡½æ•°**ï¼ˆC++ æ‰©å±•ï¼‰ï¼š
  ```cpp
  struct Point {
      double x, y;
      double distance_from_origin() const {
          return std::sqrt(x*x + y*y);
      }
  };
  ```
- **é»˜è®¤è®¿é—®æƒé™**ï¼š**public**ï¼ˆä¸ class çš„ private ä¸åŒï¼‰

#### 2. æˆå‘˜è®¿é—®æ“ä½œç¬¦
- **`.` æ“ä½œç¬¦**ï¼šç”¨äº**å¯¹è±¡æˆ–å¼•ç”¨**
  ```cpp
  Point p{3.0, 4.0};
  std::cout << p.x << "\n"; // 3.0
  ```
- **`->` æ“ä½œç¬¦**ï¼šç”¨äº**æŒ‡é’ˆ**ï¼ˆ`p->x` ç­‰ä»·äº `(*p).x`ï¼‰
  ```cpp
  Point* pp = &p;
  std::cout << pp->y << "\n"; // 4.0
  ```
- **ä¸ Java å¯¹æ¯”**ï¼š
  - Java åªæœ‰ `.`ï¼ˆå› æ— æŒ‡é’ˆï¼‰
  - C++ æœ‰ `.` å’Œ `->`ï¼ˆå› æœ‰æŒ‡é’ˆï¼‰

#### 3. å†…å­˜å¸ƒå±€
- **æˆå‘˜é¡ºåº**ï¼šä¸å£°æ˜é¡ºåºä¸€è‡´
- **å¯¹é½ä¸å¡«å……**ï¼š
  - ç¼–è¯‘å™¨æ’å…¥ padding æ»¡è¶³å¯¹é½è¦æ±‚
  - `sizeof(struct)` â‰¥ æˆå‘˜å¤§å°ä¹‹å’Œ
- **ç¤ºä¾‹**ï¼š
  ```cpp
  struct Bad {
      char c;  // 1 byte
      int i;   // 4 bytes â†’ éœ€ 4 å­—èŠ‚å¯¹é½
  }; // sizeof(Bad) = 8 (1 + 3 padding + 4)
  ```

#### 4. ä¸ Java çš„å¯¹æ¯”
| ç‰¹æ€§ | C++ struct | Java class |
|------|-----------|-----------|
| **é»˜è®¤è®¿é—®** | public | package-private |
| **å‡½æ•°** | æ”¯æŒ | æ”¯æŒ |
| **ç»§æ‰¿** | æ”¯æŒ | æ”¯æŒ |
| **å†…å­˜å¸ƒå±€** | å¼€å‘è€…å¯æ§ | JVM éšè— |
| **è½»é‡çº§** | æ˜¯ï¼ˆPODï¼‰ | å¦ï¼ˆå¯¹è±¡å¤´å¼€é”€ï¼‰ |

#### 5. å¸¸è§ç”¨é€”
- **æ•°æ®èšåˆ**ï¼ˆPlain Old Data, PODï¼‰ï¼š
  ```cpp
  struct Config {
      int port;
      std::string host;
  };
  ```
- **ç®€å•å¯¹è±¡**ï¼ˆæ— è™šå‡½æ•°ã€æ— ç»§æ‰¿ï¼‰ï¼š
  ```cpp
  struct Vector2D {
      float x, y;
      Vector2D operator+(const Vector2D& other) const;
  };
  ```
- **ä¸ class çš„é€‰æ‹©**ï¼š
  - **struct**ï¼šæ•°æ®ä¸ºä¸»ï¼Œpublic æˆå‘˜ï¼ˆå¦‚ Point, Configï¼‰
  - **class**ï¼šè¡Œä¸ºä¸ºä¸»ï¼Œprivate æˆå‘˜ï¼ˆå¦‚ FileHandle, Loggerï¼‰

> ğŸ’¡ **ç°ä»£ C++ å»ºè®®**ï¼š
> - **æ•°æ®èšåˆ**ï¼šç”¨ `struct`
> - **å°è£…å¯¹è±¡**ï¼šç”¨ `class`
> - **ä¸€è‡´æ€§**ï¼šå›¢é˜Ÿç»Ÿä¸€é£æ ¼

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šåŸºæœ¬ struct å®šä¹‰ä¸è®¿é—®
```cpp
#include <iostream>
#include <string>

struct Person {
    std::string name;
    int age;
    
    void introduce() const {
        std::cout << "Hi, I'm " << name << ", " << age << " years old.\n";
    }
};

int main() {
    Person p{"Alice", 30};
    std::cout << p.name << " is " << p.age << " years old.\n";
    p.introduce();
    
    // ä¿®æ”¹æˆå‘˜
    p.age = 31;
    p.introduce();
    return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šå†…å­˜å¸ƒå±€ä¸ padding
```cpp
#include <iostream>
#include <cstddef>

struct A {
    char c;  // 1
    int i;   // 4
};

struct B {
    int i;   // 4
    char c;  // 1
};

int main() {
    std::cout << "sizeof(A): " << sizeof(A) << "\n"; // 8
    std::cout << "sizeof(B): " << sizeof(B) << "\n"; // 8 (4 + 1 + 3 padding)
    std::cout << "offsetof(A, c): " << offsetof(A, c) << "\n"; // 0
    std::cout << "offsetof(A, i): " << offsetof(A, i) << "\n"; // 4
    return 0;
}
```

#### ç¤ºä¾‹ 3ï¼šæŒ‡é’ˆè®¿é—®ï¼ˆ-> æ“ä½œç¬¦ï¼‰
```cpp
#include <iostream>

struct Point {
    double x, y;
};

int main() {
    Point p{1.0, 2.0};
    Point* pp = &p;
    
    std::cout << "p.x = " << p.x << "\n";     // 1
    std::cout << "pp->x = " << pp->x << "\n"; // 1 (ç­‰ä»·äº (*pp).x)
    return 0;
}
```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **struct å®šä¹‰**  
   - å®šä¹‰ `Book` structï¼ŒåŒ…å« `title`ï¼ˆstringï¼‰ã€`pages`ï¼ˆintï¼‰
   - åˆ›å»ºå®ä¾‹å¹¶æ‰“å°æˆå‘˜

2. **æˆå‘˜å‡½æ•°**  
   - ä¸º `Book` æ·»åŠ  `print()` æˆå‘˜å‡½æ•°

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **å†…å­˜ä¼˜åŒ–**  
   - é‡æ–°æ’åˆ— `struct Bad { char c; int i; char d; }` æˆå‘˜ï¼Œå‡å°‘ padding

4. **POD éªŒè¯**  
   - éªŒè¯ `struct Point { double x, y; };` æ˜¯ POD ç±»å‹ï¼ˆC++11 èµ·å¯ç”¨ `std::is_pod`ï¼‰

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
5. **â€œstruct ä¸èƒ½æœ‰å‡½æ•°å§ï¼Ÿâ€**  
   - Q: C++ struct èƒ½åŒ…å«æˆå‘˜å‡½æ•°å—ï¼Ÿ  
   - A: âœ… **èƒ½**ï¼  
     â†’ C++ struct ä¸ class å‡ ä¹ç­‰ä»·ï¼Œåªæ˜¯é»˜è®¤è®¿é—®æƒé™ä¸åŒ

6. **â€œ. å’Œ -> ä¸€æ ·å§ï¼Ÿâ€**  
   - Q: `p.x` å’Œ `p->x` å¯ä»¥äº’æ¢å—ï¼Ÿ  
   - A: âŒ **ä¸èƒ½**ï¼  
     - `p.x`ï¼šp æ˜¯å¯¹è±¡æˆ–å¼•ç”¨  
     - `p->x`ï¼šp æ˜¯æŒ‡é’ˆ

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **å†…å­˜å¸ƒå±€** | å¤§æˆå‘˜æ”¾å‰é¢ï¼Œå‡å°‘ padding |
| **POD ç±»å‹** | ç”¨äº C äº¤äº’ã€å†…å­˜æ˜ å°„ |
| **ä¸ class é€‰æ‹©** | struct ç”¨äºæ•°æ®ï¼Œclass ç”¨äºå°è£… |
| **åˆå§‹åŒ–** | ç”¨ `{}` ç»Ÿä¸€åˆå§‹åŒ–ï¼ˆC++11ï¼‰ |
| **ç°ä»£å®è·µ** | ä¼˜å…ˆ `struct` ç”¨äºç®€å•æ•°æ®èšåˆ |

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œæ•°æ®ç”¨ structï¼Œè¡Œä¸ºç”¨ classï¼›å¤§æˆå‘˜æ”¾å‰é¢ï¼Œå‡å°‘ paddingâ€**

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 1.2.7**ï¼šstruct å†…å­˜å¸ƒå±€å—å¯¹é½å½±å“
- **è¡”æ¥ 1.5**ï¼šstruct å¯åŒ…å«æˆå‘˜å‡½æ•°
- **Java ç»éªŒ**ï¼šC++ struct â‰ˆ Java classï¼ˆä½†æ›´è½»é‡ï¼‰
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™ struct ä¸ class çš„é»˜è®¤è®¿é—®æƒé™å·®å¼‚

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œä¸ºä»€ä¹ˆ C++ éœ€è¦ struct å’Œ class ä¸¤ç§ç±»å‹ï¼Ÿâ€
   - â€œPOD ç±»å‹åœ¨å“ªäº›åœºæ™¯æœ‰ç”¨ï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º struct å†…å­˜å¸ƒå±€ç¤ºæ„å›¾
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆ `sizeof(struct)` å¯èƒ½å¤§äºæˆå‘˜ä¹‹å’Œâ€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½æ­£ç¡®å®šä¹‰ struct  
âœ… æˆ‘ä¼šç”¨ . å’Œ -> è®¿é—®æˆå‘˜  
âœ… æˆ‘ç†è§£ struct å†…å­˜å¸ƒå±€ä¸ padding  
âœ… æˆ‘çŸ¥é“ struct ä¸ class çš„å·®å¼‚  
âœ… æˆ‘æ˜ç™½ C++ struct ä¸ Java class çš„å¼‚åŒ

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 5 å’Œ 6

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å·²æŒæ¡ **C++ struct çš„æ ¸å¿ƒçŸ¥è¯†**ï¼

æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š
1. **ç»§ç»­å­¦ä¹  1.6.2 struct ä¸ class çš„é»˜è®¤è®¿é—®æƒé™å·®å¼‚**
2. **è¯·æ±‚ç”Ÿæˆã€Œstruct å†…å­˜å¸ƒå±€é€ŸæŸ¥å¡ã€**
3. **è·³è½¬åˆ°ç»ƒä¹ é¢˜ç­”æ¡ˆä¸è§£æ**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼