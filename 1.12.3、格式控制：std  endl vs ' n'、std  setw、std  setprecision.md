å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **1.12.3ï¼šæ ¼å¼æ§åˆ¶ â€” std::endl vs '\n'ã€std::setwã€std::setprecision**ã€‚

è¿™æ˜¯ C++ **I/O ç²¾ç»†æ§åˆ¶**çš„å…³é”®ï¼Œä¹Ÿæ˜¯ç†è§£ C++ **æ€§èƒ½ä¸åŠŸèƒ½æƒè¡¡**çš„å…¸å‹æ¡ˆä¾‹ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ å¯èƒ½ä¹ æƒ¯ `\n` å’Œ `String.format()`ï¼Œè€Œ C++ çš„æ ¼å¼æ§åˆ¶æä¾›äº†**ç¼–è¯‘æœŸå®‰å…¨ã€é“¾å¼è°ƒç”¨ã€ç¼“å†²æ§åˆ¶**ç­‰é«˜çº§ç‰¹æ€§ã€‚æŒæ¡è¿™äº›å·¥å…·ï¼Œèƒ½è®©ä½ ç¼–å†™å‡ºä¸“ä¸šçº§çš„æ ¼å¼åŒ–è¾“å‡ºã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆæ ¼å¼æ§åˆ¶åœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€/è¿›é˜¶/é™·é˜±é¢˜ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 1.12.1â€“1.12.2 + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨å­¦ä¹  + å¤ç›˜

---

## ğŸ¯ KU 1.12.3ï¼šæ ¼å¼æ§åˆ¶

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 1 â€” C++ è¯­æ³•åŸºç¡€  
> **å‰ç½®çŸ¥è¯†**ï¼š1.12.1â€“1.12.2ï¼ˆæ ‡å‡†æµä¸æ“ä½œç¬¦ï¼‰ã€Java æ ¼å¼åŒ–ç»éªŒ  
> **åç»­è¡”æ¥**ï¼š3.10ï¼ˆæ–‡ä»¶æµï¼‰ã€5.4ï¼ˆå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼‰  
> **é¢„è®¡è€—æ—¶**ï¼š2â€“3 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šæ ¼å¼æ§åˆ¶åœ°å›¾

```
1.12.3 æ ¼å¼æ§åˆ¶
â”œâ”€â”€ 1. è¡Œç»“æŸç¬¦
â”‚   â”œâ”€â”€ 1.1 '\n'ï¼šæ¢è¡Œå­—ç¬¦
â”‚   â””â”€â”€ 1.2 std::endlï¼šæ¢è¡Œ + åˆ·æ–°ç¼“å†²åŒº
â”œâ”€â”€ 2. å­—æ®µå®½åº¦
â”‚   â”œâ”€â”€ 2.1 std::setw(n)ï¼šè®¾ç½®æœ€å°å­—æ®µå®½åº¦
â”‚   â””â”€â”€ 2.2 å¡«å……å­—ç¬¦ï¼ˆstd::setfillï¼‰
â”œâ”€â”€ 3. æµ®ç‚¹ç²¾åº¦
â”‚   â”œâ”€â”€ 3.1 std::setprecision(n)ï¼šè®¾ç½®ç²¾åº¦
â”‚   â”œâ”€â”€ 3.2 std::fixedï¼šå›ºå®šå°æ•°ç‚¹
â”‚   â””â”€â”€ 3.3 std::scientificï¼šç§‘å­¦è®¡æ•°æ³•
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 C++ï¼šç¼–è¯‘æœŸå®‰å…¨ï¼Œé“¾å¼è°ƒç”¨
â”‚   â””â”€â”€ 4.2 Javaï¼šè¿è¡ŒæœŸæ ¼å¼åŒ–ï¼ˆString.formatï¼‰
â”œâ”€â”€ 5. æ€§èƒ½é™·é˜±
â”‚   â”œâ”€â”€ 5.1 std::endl çš„åˆ·æ–°å¼€é”€
â”‚   â””â”€â”€ 5.2 æœªé‡ç½®çš„æ ¼å¼çŠ¶æ€
â””â”€â”€ 6. æœ€ä½³å®è·µ
    â”œâ”€â”€ 6.1 ä¼˜å…ˆ '\n' è€Œé std::endl
    â”œâ”€â”€ 6.2 ç”¨ std::fixed æ§åˆ¶æµ®ç‚¹
    â””â”€â”€ 6.3 é‡ç½®æ ¼å¼çŠ¶æ€ï¼ˆstd::defaultfloatï¼‰
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½æ­£ç¡®ä½¿ç”¨ `std::endl` / `'\n'`ã€`std::setw`ã€`std::setprecision`ï¼Œç†è§£å…¶æ€§èƒ½å½±å“ï¼Œå¹¶ä¸ Java æ ¼å¼åŒ–å¯¹æ¯”ã€‚
- **Measurable**ï¼šå®Œæˆ 2 é“åŸºç¡€é¢˜ + 2 é“é™·é˜±é¢˜ï¼Œèƒ½è§£é‡Šä¸ºä½• `std::endl` æ¯” `'\n'` æ…¢ã€‚
- **Achievable**ï¼šé€šè¿‡â€œå°åˆ·æœºâ€æ¯”å–»ç†è§£æ ¼å¼æ§åˆ¶ã€‚
- **Relevant**ï¼šè¿™æ˜¯ç”Ÿæˆä¸“ä¸šæŠ¥è¡¨ã€æ—¥å¿—çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1â€“2 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šæ™ºèƒ½å°åˆ·æœº

> æƒ³è±¡ä¸€å°**æ™ºèƒ½å°åˆ·æœº**ï¼š
>
> - **'\n' = æ¢è¡ŒæŒ‡ä»¤**  
>   - ä»…ç§»åŠ¨æ‰“å°å¤´åˆ°ä¸‹ä¸€è¡Œ
>   - **é«˜æ•ˆ**ï¼ˆæ— é¢å¤–æ“ä½œï¼‰
>
> - **std::endl = æ¢è¡Œ + ç«‹å³å‡ºçº¸**  
>   - ç§»åŠ¨æ‰“å°å¤´ + **å¼ºåˆ¶å‡ºçº¸**ï¼ˆåˆ·æ–°ç¼“å†²åŒºï¼‰  
>   - **ä½æ•ˆ**ï¼ˆå‡ºçº¸æ…¢ï¼‰
>
> - **std::setw = åˆ—å®½è®¾ç½®**  
>   - è®¾ç½®æ¯åˆ—æœ€å°å®½åº¦ï¼ˆä¸è¶³è¡¥ç©ºæ ¼ï¼‰
>
> - **std::setprecision = å°æ•°ç²¾åº¦**  
>   - æ§åˆ¶æ•°å­—æ‰“å°ç²¾åº¦
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java `String.format("%10.2f", pi)` = **é¢„è®¾æ¨¡æ¿**  
>   - **C++ æµæ ¼å¼ = å®æ—¶è°ƒæ•´å°åˆ·æœº**  
>     - æ›´çµæ´»ï¼Œä½†éœ€æ‰‹åŠ¨ç®¡ç†çŠ¶æ€

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**`std::endl` çš„åˆ·æ–°æ˜¯æ€§èƒ½æ€æ‰‹ï¼›`'\n'` æ˜¯é«˜æ•ˆé»˜è®¤é€‰æ‹©**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. è¡Œç»“æŸç¬¦
- **`'\n'`**ï¼š  
  - å•çº¯æ¢è¡Œå­—ç¬¦  
  - **é«˜æ•ˆ**ï¼ˆæ— ç¼“å†²åˆ·æ–°ï¼‰
  ```cpp
  std::cout << "Hello\n"; // ä»…æ¢è¡Œ
  ```
- **`std::endl`**ï¼š  
  - æ¢è¡Œ + **åˆ·æ–°ç¼“å†²åŒº**ï¼ˆ`os.flush()`ï¼‰  
  - **ä½æ•ˆ**ï¼ˆé¢‘ç¹åˆ·æ–°é™ä½æ€§èƒ½ï¼‰
  ```cpp
  std::cout << "Hello" << std::endl; // æ¢è¡Œ + åˆ·æ–°
  ```

#### 2. å­—æ®µå®½åº¦
- **`std::setw(n)`**ï¼š  
  - è®¾ç½®**ä¸‹ä¸€ä¸ª**å­—æ®µçš„æœ€å°å®½åº¦  
  - **éæŒä¹…**ï¼ˆä»…å½±å“ä¸‹ä¸€æ¬¡è¾“å‡ºï¼‰
  ```cpp
  #include <iomanip>
  std::cout << std::setw(10) << 42 << "\n"; // "        42"
  ```
- **`std::setfill(c)`**ï¼š  
  - è®¾ç½®å¡«å……å­—ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰
  ```cpp
  std::cout << std::setfill('0') << std::setw(5) << 42 << "\n"; // "00042"
  ```

#### 3. æµ®ç‚¹ç²¾åº¦
- **`std::setprecision(n)`**ï¼š  
  - è®¾ç½®æµ®ç‚¹æ•°ç²¾åº¦ï¼ˆæ€»ä½æ•°æˆ–å°æ•°ä½ï¼‰
  ```cpp
  double pi = 3.14159;
  std::cout << std::setprecision(2) << pi << "\n"; // 3.1 (é»˜è®¤)
  ```
- **`std::fixed`**ï¼š  
  - å›ºå®šå°æ•°ç‚¹æ¨¡å¼ï¼ˆ`setprecision` = å°æ•°ä½ï¼‰
  ```cpp
  std::cout << std::fixed << std::setprecision(2) << pi << "\n"; // 3.14
  ```
- **`std::scientific`**ï¼š  
  - ç§‘å­¦è®¡æ•°æ³•
  ```cpp
  std::cout << std::scientific << pi << "\n"; // 3.141590e+00
  ```

#### 4. ä¸ Java çš„å¯¹æ¯”
| ç‰¹æ€§ | C++ æ ¼å¼æ§åˆ¶ | Java String.format |
|------|-------------|-------------------|
| **ç±»å‹å®‰å…¨** | âœ… ç¼–è¯‘æœŸæ£€æŸ¥ | âš ï¸ è¿è¡ŒæœŸï¼ˆæ ¼å¼é”™è¯¯æŠ›å¼‚å¸¸ï¼‰ |
| **æ€§èƒ½** | âœ… æ— åå°„å¼€é”€ | âš ï¸ åå°„è§£ææ ¼å¼å­—ç¬¦ä¸² |
| **çŠ¶æ€ç®¡ç†** | âš ï¸ éœ€æ‰‹åŠ¨é‡ç½® | âœ… æ— çŠ¶æ€ï¼ˆæ¯æ¬¡ç‹¬ç«‹ï¼‰ |
| **çµæ´»æ€§** | âœ… é“¾å¼è°ƒç”¨ | âœ… æ¨¡æ¿å­—ç¬¦ä¸² |

#### 5. æ€§èƒ½é™·é˜±
- **`std::endl` å¼€é”€**ï¼š
  ```cpp
  // æ…¢ï¼
  for (int i = 0; i < 1000000; ++i) {
      std::cout << i << std::endl; // æ¯æ¬¡åˆ·æ–°
  }
  
  // å¿«ï¼
  for (int i = 0; i < 1000000; ++i) {
      std::cout << i << '\n'; // ä»…æ¢è¡Œ
  }
  ```
- **æœªé‡ç½®æ ¼å¼çŠ¶æ€**ï¼š
  ```cpp
  std::cout << std::fixed << std::setprecision(2);
  std::cout << 3.14159 << "\n"; // 3.14
  std::cout << 100 << "\n";     // 100.00 (æ„å¤–ï¼)
  ```

#### 6. æœ€ä½³å®è·µ
- **ä¼˜å…ˆ `'\n'`**ï¼š
  - é™¤é**ç«‹å³éœ€è¦è¾“å‡º**ï¼ˆå¦‚äº¤äº’å¼ç¨‹åºé”™è¯¯ï¼‰
- **é‡ç½®æµ®ç‚¹æ ¼å¼**ï¼š
  ```cpp
  std::cout << std::defaultfloat; // é‡ç½®ä¸ºé»˜è®¤
  ```
- **å±€éƒ¨æ ¼å¼æ§åˆ¶**ï¼š
  ```cpp
  {
      auto cout_backup = std::cout.flags();
      std::cout << std::fixed << std::setprecision(2) << pi << "\n";
      std::cout.flags(cout_backup); // æ¢å¤
  }
  ```

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œç”¨ '\n' ä»£æ›¿ endlï¼›å±€éƒ¨æ§åˆ¶æ ¼å¼ï¼›åŠæ—¶é‡ç½®çŠ¶æ€â€**

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šendl vs '\n' æ€§èƒ½
```cpp
#include <iostream>
#include <chrono>

void test_endl(int n) {
    auto start = std::chrono::high_resolution_clock::now();
    for (int i = 0; i < n; ++i) {
        std::cout << i << std::endl;
    }
    auto end = std::chrono::high_resolution_clock::now();
    std::cout << "endl time: " 
              << std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count() 
              << " ms\n";
}

void test_newline(int n) {
    auto start = std::chrono::high_resolution_clock::now();
    for (int i = 0; i < n; ++i) {
        std::cout << i << '\n';
    }
    auto end = std::chrono::high_resolution_clock::now();
    std::cout << "newline time: " 
              << std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count() 
              << " ms\n";
}

int main() {
    const int N = 10000;
    // test_endl(N);   // æ³¨é‡Šä»¥é¿å…åˆ·å±
    test_newline(N);
    return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šå­—æ®µå®½åº¦ä¸æµ®ç‚¹æ ¼å¼
```cpp
#include <iostream>
#include <iomanip>

int main() {
    // å­—æ®µå®½åº¦
    std::cout << "Width test:\n";
    std::cout << std::setw(10) << "Name" << std::setw(10) << "Score" << "\n";
    std::cout << std::setw(10) << "Alice" << std::setw(10) << 95 << "\n";
    std::cout << std::setw(10) << "Bob" << std::setw(10) << 87 << "\n";
    
    // æµ®ç‚¹ç²¾åº¦
    double pi = 3.1415926535;
    std::cout << "\nPrecision test:\n";
    std::cout << "Default: " << pi << "\n";
    std::cout << "Precision 3: " << std::setprecision(3) << pi << "\n";
    std::cout << "Fixed 2: " << std::fixed << std::setprecision(2) << pi << "\n";
    std::cout << "Scientific: " << std::scientific << pi << "\n";
    
    // é‡ç½®
    std::cout << std::defaultfloat << "Reset: " << pi << "\n";
    
    return 0;
}
```

#### ç¤ºä¾‹ 3ï¼šJava å¯¹æ¯”
```java
// FormatExample.java
public class FormatExample {
    public static void main(String[] args) {
        double pi = 3.1415926535;
        System.out.printf("Default: %f\n", pi);
        System.out.printf("Precision 3: %.3f\n", pi);
        System.out.printf("Fixed 2: %.2f\n", pi);
        // Java æ— çŠ¶æ€é—®é¢˜ï¼ˆæ¯æ¬¡ç‹¬ç«‹ï¼‰
    }
}
```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **endl vs '\n'**  
   - æ¯”è¾ƒ `std::cout << "A" << std::endl;` å’Œ `std::cout << "A\n";` çš„è¾“å‡º

2. **å­—æ®µå®½åº¦**  
   - ç”¨ `std::setw(8)` è¾“å‡ºæ•´æ•° 42

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **æµ®ç‚¹æ ¼å¼**  
   - è¾“å‡º Ï€ ä¸º "3.1416"ï¼ˆ4 ä½å°æ•°ï¼‰

4. **çŠ¶æ€é‡ç½®**  
   - åœ¨å›ºå®šç²¾åº¦åï¼Œé‡ç½®ä¸ºé»˜è®¤æ ¼å¼

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
5. **â€œendl æ›´å®‰å…¨å§ï¼Ÿâ€**  
   - Q: `std::endl` æ¯” `'\n'` æ›´å®‰å…¨å—ï¼Ÿ  
   - A: âš ï¸ **ä»…åœ¨éœ€è¦ç«‹å³è¾“å‡ºæ—¶**ï¼  
     â†’ æ—¥å¿—/é”™è¯¯ç”¨ `std::cerr`ï¼ˆæ— ç¼“å†²ï¼‰  
     â†’ **æ­£å¸¸è¾“å‡ºç”¨ `'\n'`**ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰

6. **â€œæ ¼å¼çŠ¶æ€ä¼šè‡ªåŠ¨é‡ç½®å§ï¼Ÿâ€**  
   - Q: `std::cout << std::fixed;` åªå½±å“ä¸‹ä¸€è¡Œå—ï¼Ÿ  
   - A: âŒ **å½±å“åç»­æ‰€æœ‰æµ®ç‚¹è¾“å‡º**ï¼  
     â†’ å¿…é¡»æ‰‹åŠ¨é‡ç½®ï¼ˆ`std::defaultfloat`ï¼‰

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **endl æ»¥ç”¨** | ä»…é”™è¯¯/äº¤äº’å¼è¾“å‡ºç”¨ endl |
| **æ ¼å¼çŠ¶æ€** | å±€éƒ¨æ§åˆ¶ï¼ŒåŠæ—¶é‡ç½® |
| **æ€§èƒ½æ•æ„Ÿ** | ç”¨ `'\n'` + æ‰¹é‡è¾“å‡º |
| **ç°ä»£æ›¿ä»£** | C++20 `std::format`ï¼ˆç±»ä¼¼ Javaï¼‰ |
| **å¤´æ–‡ä»¶** | `#include <iomanip>` for setw/setprecision

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œ'\n' æ˜¯é»˜è®¤ï¼›endl æ˜¯ç‰¹ä¾‹ï¼›æ ¼å¼çŠ¶æ€éœ€ç®¡ç†â€**

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 1.12.2**ï¼šæ ¼å¼æ§åˆ¶æ˜¯ << æ“ä½œç¬¦çš„æ‰©å±•  
- **Java ç»éªŒ**ï¼šC++ æœ‰çŠ¶æ€ vs Java æ— çŠ¶æ€  
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™ endl ä¸ '\n' çš„ä¸‰å¤§å·®å¼‚

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œå¦‚ä½•ä¿å­˜/æ¢å¤æµçš„å®Œæ•´çŠ¶æ€ï¼Ÿâ€
   - â€œC++20 std::format å¦‚ä½•ç®€åŒ–æ ¼å¼åŒ–ï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º C++ ä¸ Java æ ¼å¼åŒ–å¯¹æ¯”
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆ endl æ˜¯æ€§èƒ½æ€æ‰‹â€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½æ­£ç¡®ä½¿ç”¨ endl / '\n'  
âœ… æˆ‘ä¼šç”¨ setw / setprecision æ§åˆ¶æ ¼å¼  
âœ… æˆ‘ç†è§£æ ¼å¼çŠ¶æ€çš„æŒä¹…æ€§  
âœ… æˆ‘çŸ¥é“ä¸ Java æ ¼å¼åŒ–çš„å·®å¼‚  
âœ… æˆ‘æ˜ç™½ç°ä»£ C++ çš„æ ¼å¼æœ€ä½³å®è·µ

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 5 å’Œ 6

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å·²æŒæ¡ **C++ æ ¼å¼æ§åˆ¶çš„æ ¸å¿ƒçŸ¥è¯†**ï¼

æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š
1. **ç»§ç»­å­¦ä¹  1.12.4 æ–‡ä»¶æµåˆæ­¥ï¼šstd::ifstream / std::ofstream**
2. **è¯·æ±‚ç”Ÿæˆã€ŒC++ æ ¼å¼æ§åˆ¶é€ŸæŸ¥å¡ã€**
3. **è·³è½¬åˆ°ç»ƒä¹ é¢˜ç­”æ¡ˆä¸è§£æ**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼