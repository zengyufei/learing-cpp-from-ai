å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **1.12.5ï¼šæ–‡ä»¶æµç®€ä»‹ â€” std::ifstream / std::ofstream**ï¼ˆä»…æ¦‚å¿µï¼Œè¯¦ç»†åœ¨ Phase 2ï¼‰ã€‚

è¿™æ˜¯ C++ **æ–‡ä»¶ I/O çš„å…¥å£**ï¼Œä¸ºä½ æ‰“å¼€æŒä¹…åŒ–å­˜å‚¨çš„å¤§é—¨ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ ç†Ÿæ‚‰ `FileInputStream`/`FileOutputStream`ï¼Œè€Œ C++ çš„æ–‡ä»¶æµæä¾›äº†**ä¸æ ‡å‡†æµä¸€è‡´çš„æ¥å£**ï¼ˆ`<<` / `>>`ã€çŠ¶æ€æ£€æŸ¥ï¼‰ï¼Œå®ç°**æ— ç¼åˆ‡æ¢**ã€‚æœ¬è¯¾å°†ä¸ºä½ å»ºç«‹åŸºæœ¬æ¦‚å¿µï¼Œä¸º Phase 2 çš„æ·±å…¥å­¦ä¹ æ‰“ä¸‹åŸºç¡€ã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆæ–‡ä»¶æµåœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€ç¤ºä¾‹ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 1.12 å…¨ç³»åˆ— + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨ learning + å¤ç›˜

---

## ğŸ¯ KU 1.12.5ï¼šæ–‡ä»¶æµç®€ä»‹

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 1 â€” C++ è¯­æ³•åŸºç¡€  
> **å‰ç½®çŸ¥è¯†**ï¼š1.12.1â€“1.12.4ï¼ˆæ ‡å‡†æµä¸çŠ¶æ€æ£€æŸ¥ï¼‰ã€Java æ–‡ä»¶ I/O ç»éªŒ  
> **åç»­è¡”æ¥**ï¼šPhase 2 â€” 3.10 æ–‡ä»¶æµè¯¦è§£ã€RAII èµ„æºç®¡ç†  
> **é¢„è®¡è€—æ—¶**ï¼š1â€“2 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šæ–‡ä»¶æµåœ°å›¾

```
1.12.5 æ–‡ä»¶æµç®€ä»‹
â”œâ”€â”€ 1. ä¸‰å¤§æ–‡ä»¶æµç±»
â”‚   â”œâ”€â”€ 1.1 std::ifstreamï¼šè¾“å…¥æ–‡ä»¶æµï¼ˆè¯»ï¼‰
â”‚   â”œâ”€â”€ 1.2 std::ofstreamï¼šè¾“å‡ºæ–‡ä»¶æµï¼ˆå†™ï¼‰
â”‚   â””â”€â”€ 1.3 std::fstreamï¼šè¾“å…¥/è¾“å‡ºæ–‡ä»¶æµ
â”œâ”€â”€ 2. åŸºæœ¬ç”¨æ³•
â”‚   â”œâ”€â”€ 2.1 æ„é€ å‡½æ•°æ‰“å¼€æ–‡ä»¶
â”‚   â”œâ”€â”€ 2.2 ä½¿ç”¨ << / >> æ“ä½œç¬¦
â”‚   â””â”€â”€ 2.3 ææ„å‡½æ•°è‡ªåŠ¨å…³é—­
â”œâ”€â”€ 3. ä¸æ ‡å‡†æµçš„ç›¸ä¼¼æ€§
â”‚   â”œâ”€â”€ 3.1 ç›¸åŒçš„æ ¼å¼æ§åˆ¶ï¼ˆsetw, setprecisionï¼‰
â”‚   â””â”€â”€ 3.2 ç›¸åŒçš„çŠ¶æ€æ£€æŸ¥ï¼ˆfail, bad, eofï¼‰
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 C++ï¼šRAII è‡ªåŠ¨å…³é—­
â”‚   â””â”€â”€ 4.2 Javaï¼šéœ€æ‰‹åŠ¨ close() æˆ– try-with-resources
â””â”€â”€ 5. æ³¨æ„äº‹é¡¹ï¼ˆPhase 2 è¯¦è§£ï¼‰
    â”œâ”€â”€ 5.1 æ–‡ä»¶è·¯å¾„ï¼ˆè·¨å¹³å°ï¼‰
    â”œâ”€â”€ 5.2 å¼‚å¸¸å®‰å…¨ï¼ˆRAIIï¼‰
    â””â”€â”€ 5.3 äºŒè¿›åˆ¶æ¨¡å¼
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½åˆ›å»º `std::ifstream`/`std::ofstream` å¯¹è±¡ï¼Œæ‰§è¡ŒåŸºæœ¬æ–‡ä»¶è¯»å†™ï¼Œå¹¶ç†è§£å…¶ä¸æ ‡å‡†æµçš„ä¸€è‡´æ€§ã€‚
- **Measurable**ï¼šå®Œæˆ 1 ä¸ªè¯»æ–‡ä»¶ç¤ºä¾‹ + 1 ä¸ªå†™æ–‡ä»¶ç¤ºä¾‹ï¼Œèƒ½è§£é‡Š RAII è‡ªåŠ¨å…³é—­æœºåˆ¶ã€‚
- **Achievable**ï¼šé€šè¿‡â€œæ–‡ä»¶ç®¡é“â€æ¯”å–»ç†è§£æ–‡ä»¶æµã€‚
- **Relevant**ï¼šè¿™æ˜¯æŒä¹…åŒ–æ•°æ®çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šæ–‡ä»¶ç®¡é“ç³»ç»Ÿ

> æƒ³è±¡**æ–‡ä»¶ç®¡é“**ï¼š
>
> - **std::ifstream = æ–‡ä»¶è¾“å…¥ç®¡é“**  
>   - ä»æ–‡ä»¶è¯»å–æ•°æ®åˆ°ç¨‹åº
>
> - **std::ofstream = æ–‡ä»¶è¾“å‡ºç®¡é“**  
>   - ä»ç¨‹åºå†™å…¥æ•°æ®åˆ°æ–‡ä»¶
>
> - **ä¸æ ‡å‡†æµä¸€è‡´**ï¼š  
>   - ç”¨ç›¸åŒçš„ `<<` / `>>` æ“ä½œç¬¦  
>   - ç›¸åŒçš„çŠ¶æ€æ£€æŸ¥ï¼ˆ`fail()`, `eof()`ï¼‰
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java éœ€æ‰‹åŠ¨ `close()`  
>   - **C++ è‡ªåŠ¨å…³é—­**ï¼ˆRAIIï¼‰
>
> - **å…³é”®ä¼˜åŠ¿**ï¼š  
>   - **æ— ç¼åˆ‡æ¢**ï¼š`cout` â†’ `ofstream` ä»…æ”¹å¯¹è±¡  
>   - **è‡ªåŠ¨èµ„æºç®¡ç†**ï¼šææ„æ—¶è‡ªåŠ¨å…³é—­

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**C++ æ–‡ä»¶æµæ˜¯æ ‡å‡†æµçš„æ–‡ä»¶ç‰ˆï¼ŒRAII ä¿è¯å®‰å…¨**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. ä¸‰å¤§æ–‡ä»¶æµç±»
- **`std::ifstream`**ï¼šè¾“å…¥æ–‡ä»¶æµï¼ˆè¯»ï¼‰
  ```cpp
  #include <fstream>
  std::ifstream input("data.txt");
  ```
- **`std::ofstream`**ï¼šè¾“å‡ºæ–‡ä»¶æµï¼ˆå†™ï¼‰
  ```cpp
  std::ofstream output("result.txt");
  ```
- **`std::fstream`**ï¼šè¾“å…¥/è¾“å‡ºæ–‡ä»¶æµï¼ˆè¯»å†™ï¼‰
  ```cpp
  std::fstream file("data.txt", std::ios::in | std::ios::out);
  ```

#### 2. åŸºæœ¬ç”¨æ³•
- **æ„é€ å‡½æ•°æ‰“å¼€æ–‡ä»¶**ï¼š
  ```cpp
  std::ifstream input("input.txt"); // è‡ªåŠ¨æ‰“å¼€
  if (!input.is_open()) {
      std::cerr << "Failed to open input.txt\n";
  }
  ```
- **ä½¿ç”¨ << / >>**ï¼š
  ```cpp
  // å†™æ–‡ä»¶
  std::ofstream output("output.txt");
  output << "Hello, File!\n";
  
  // è¯»æ–‡ä»¶
  std::string line;
  while (std::getline(input, line)) {
      std::cout << line << "\n";
  }
  ```
- **RAII è‡ªåŠ¨å…³é—­**ï¼š
  - å¯¹è±¡ææ„æ—¶è‡ªåŠ¨è°ƒç”¨ `close()`
  - æ— éœ€æ‰‹åŠ¨å…³é—­ï¼ˆå¼‚å¸¸å®‰å…¨ï¼‰

#### 3. ä¸æ ‡å‡†æµçš„ç›¸ä¼¼æ€§
- **ç›¸åŒæ“ä½œç¬¦**ï¼š
  ```cpp
  output << std::setw(10) << 42; // ä¸ cout ç›¸åŒ
  ```
- **ç›¸åŒçŠ¶æ€æ£€æŸ¥**ï¼š
  ```cpp
  if (input.eof()) { /* ... */ }
  if (output.fail()) { /* ... */ }
  ```

#### 4. ä¸ Java çš„å¯¹æ¯”
| ç‰¹æ€§ | C++ æ–‡ä»¶æµ | Java FileInputStream |
|------|-----------|---------------------|
| **èµ„æºç®¡ç†** | RAIIï¼ˆè‡ªåŠ¨å…³é—­ï¼‰ | éœ€æ‰‹åŠ¨ close() |
| **å¼‚å¸¸å®‰å…¨** | ææ„ä¿è¯ | éœ€ try-with-resources |
| **æ¥å£ä¸€è‡´æ€§** | ä¸æ ‡å‡†æµç›¸åŒ | ä¸ System.in/out ä¸åŒ |

#### 5. æ³¨æ„äº‹é¡¹ï¼ˆPhase 2 è¯¦è§£ï¼‰
- **æ–‡ä»¶è·¯å¾„**ï¼š
  - è·¨å¹³å°éœ€æ³¨æ„åˆ†éš”ç¬¦ï¼ˆ`/` é€šç”¨ï¼‰
- **å¼‚å¸¸å®‰å…¨**ï¼š
  - RAII ç¡®ä¿å¼‚å¸¸æ—¶å…³é—­
- **äºŒè¿›åˆ¶æ¨¡å¼**ï¼š
  ```cpp
  std::ofstream bin("data.bin", std::ios::binary);
  ```

> ğŸ’¡ **ç°ä»£ C++ å¿ƒæ³•**ï¼š  
> **â€œæ–‡ä»¶æµæ˜¯æ ‡å‡†æµçš„è‡ªç„¶å»¶ä¼¸ï¼›RAII æ˜¯ä½ çš„å®‰å…¨ç½‘â€**

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šå†™æ–‡ä»¶
```cpp
#include <iostream>
#include <fstream>
#include <string>

int main() {
    std::ofstream output("hello.txt");
    if (!output.is_open()) {
        std::cerr << "Cannot create hello.txt\n";
        return 1;
    }
    
    output << "Hello, File World!\n";
    output << "Number: " << 42 << "\n";
    
    // output è‡ªåŠ¨å…³é—­ï¼ˆRAIIï¼‰
    std::cout << "File written.\n";
    return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šè¯»æ–‡ä»¶
```cpp
#include <iostream>
#include <fstream>
#include <string>

int main() {
    std::ifstream input("hello.txt");
    if (!input.is_open()) {
        std::cerr << "Cannot open hello.txt\n";
        return 1;
    }
    
    std::string line;
    while (std::getline(input, line)) {
        std::cout << "Read: " << line << "\n";
    }
    
    if (input.bad()) {
        std::cerr << "File read error\n";
    }
    
    // input è‡ªåŠ¨å…³é—­ï¼ˆRAIIï¼‰
    return 0;
}
```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **å†™æ–‡ä»¶**  
   - åˆ›å»º `data.txt`ï¼Œå†™å…¥ "Phase 1: File I/O"

2. **è¯»æ–‡ä»¶**  
   - è¯»å– `data.txt` å¹¶æ‰“å°

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **çŠ¶æ€æ£€æŸ¥**  
   - è¯»å–æ–‡ä»¶æ—¶æ£€æŸ¥ `eof()` å’Œ `fail()`

4. **RAII éªŒè¯**  
   - åœ¨å‡½æ•°ä¸­æ‰“å¼€æ–‡ä»¶ï¼ŒéªŒè¯ç¦»å¼€ä½œç”¨åŸŸæ—¶è‡ªåŠ¨å…³é—­

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
5. **â€œéœ€è¦æ‰‹åŠ¨ close() å§ï¼Ÿâ€**  
   - Q: C++ æ–‡ä»¶æµéœ€è¦æ‰‹åŠ¨ `close()` å—ï¼Ÿ  
   - A: âš ï¸ **ä¸éœ€è¦**ï¼  
     â†’ RAII ä¿è¯ææ„æ—¶è‡ªåŠ¨å…³é—­  
     â†’ æ‰‹åŠ¨ `close()` ä»…ç”¨äº**æå‰å…³é—­**

6. **â€œè·¯å¾„ç”¨ \\ å§ï¼Ÿâ€**  
   - Q: Windows è·¯å¾„åº”å†™ `"C:\\data.txt"` å—ï¼Ÿ  
   - A: âœ… **å¯ä»¥ï¼Œä½†æ¨è "/"**  
     â†’ C++ æ ‡å‡†åº“æ”¯æŒè·¨å¹³å° `/`  
     â†’ `"C:/data.txt"` æ›´ç®€æ´

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **æ‰‹åŠ¨ close()** | é€šå¸¸ä¸éœ€è¦ï¼ˆRAII è‡ªåŠ¨å¤„ç†ï¼‰ |
| **æ–‡ä»¶è·¯å¾„** | ç”¨ `/` è·¨å¹³å°å…¼å®¹ |
| **é”™è¯¯æ£€æŸ¥** | æ£€æŸ¥ `is_open()` å’ŒæµçŠ¶æ€ |
| **äºŒè¿›åˆ¶æ¨¡å¼** | è¯»å†™éæ–‡æœ¬æ–‡ä»¶ç”¨ `std::ios::binary` |
| **ç°ä»£å®è·µ** | ä¼˜å…ˆ RAIIï¼Œé¿å…è£¸èµ„æº |

> ğŸ’¡ **ç°ä»£ C++ é»„é‡‘æ³•åˆ™**ï¼š  
> **â€œæ–‡ä»¶æµ = æ ‡å‡†æµ + RAIIï¼›è‡ªåŠ¨å…³é—­ï¼Œæ— éœ€ close()â€**

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 1.12.4**ï¼šæ–‡ä»¶æµæœ‰ç›¸åŒçŠ¶æ€æ ‡å¿—  
- **Java ç»éªŒ**ï¼šC++ RAII vs Java try-with-resources  
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™æ–‡ä»¶æµä¸‰å¤§ç±»

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œå¦‚ä½•å¤„ç† Unicode æ–‡ä»¶è·¯å¾„ï¼Ÿâ€
   - â€œfstream çš„ç§»åŠ¨è¯­ä¹‰å¦‚ä½•å·¥ä½œï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º C++ ä¸ Java æ–‡ä»¶ I/O å¯¹æ¯”
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆ C++ ä¸éœ€è¦ close()â€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½åˆ›å»º ifstream/ofstream  
âœ… æˆ‘ä¼šåŸºæœ¬æ–‡ä»¶è¯»å†™  
âœ… æˆ‘ç†è§£ RAII è‡ªåŠ¨å…³é—­  
âœ… æˆ‘çŸ¥é“ä¸æ ‡å‡†æµçš„ä¸€è‡´æ€§  
âœ… æˆ‘æ˜ç™½ C++ ä¸ Java æ–‡ä»¶ I/O å·®å¼‚

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 5 å’Œ 6

---

## ğŸ‰ KU 1.12 å®Œæ•´é—­ç¯

ä½ å·²å®Œæ•´æŒæ¡ **KU 1.12ï¼šC++ I/O ç³»ç»Ÿ** çš„å…¨éƒ¨ 5 ä¸ªå­çŸ¥è¯†ç‚¹ï¼  
ä»æ ‡å‡†æµ â†’ æ“ä½œç¬¦ â†’ æ ¼å¼æ§åˆ¶ â†’ çŠ¶æ€æ£€æŸ¥ â†’ **æ–‡ä»¶æµ**ï¼Œå½¢æˆäº†**å®Œæ•´ I/O è®¤çŸ¥ä½“ç³»**ã€‚

> ğŸ‰ **ä½ ç°åœ¨èƒ½**ï¼š
> - å®‰å…¨ä½¿ç”¨æ ‡å‡†æµå’Œæ–‡ä»¶æµ
> - æ ¼å¼åŒ–ä¸“ä¸šè¾“å‡º
> - å¥å£®å¤„ç† I/O é”™è¯¯
> - å‘ Java åŒäº‹è§£é‡Š C++ I/O ä¼˜åŠ¿
> - ç¼–å†™ RAII å®‰å…¨çš„æ–‡ä»¶æ“ä½œ

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å¯ä»¥é€‰æ‹©ï¼š

1. **å®Œæˆ Phase 1ï¼Œè¿›å…¥ Phase 2ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆç±»ã€ç»§æ‰¿ã€å¤šæ€ï¼‰**
2. **è¯·æ±‚ç”Ÿæˆã€ŒC++ I/O é€ŸæŸ¥å¡ã€**
3. **å¯¼å‡º KU 1.12 ç»¼åˆå°æµ‹ï¼ˆ10 é“é¢˜ï¼‰**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼