å¤ªå¥½äº†ï¼æˆ‘ä»¬ç°åœ¨è¿›å…¥ **1.5.8ï¼šmain å‡½æ•°ç­¾å â€” int main() vs int main(int argc, char* argv[])**ã€‚

è¿™æ˜¯ C++ ç¨‹åºçš„**å”¯ä¸€å…¥å£ç‚¹**ï¼Œä¹Ÿæ˜¯ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„**æ ‡å‡†æ¥å£**ã€‚ä½œä¸º Java å¼€å‘è€…ï¼Œä½ ç†Ÿæ‚‰ `public static void main(String[] args)`ï¼Œè€Œ C++ çš„ `main` æœ‰**ä¸¥æ ¼æ ‡å‡†ç­¾å**ï¼Œä¸”**è¿”å›å€¼æœ‰æ˜ç¡®è¯­ä¹‰**ã€‚ç†è§£ `main` çš„ä¸¤ç§æ ‡å‡†å½¢å¼åŠå…¶ä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’æ–¹å¼ï¼Œæ˜¯ç¼–å†™å¯ç§»æ¤ã€å¯è„šæœ¬åŒ– C++ ç¨‹åºçš„åŸºç¡€ã€‚

æˆ‘ä»¬å°†ç»§ç»­ä¸¥æ ¼éµå¾ªä½ çš„å­¦ä¹ åå¥½ï¼š
- âœ… SMART ç›®æ ‡  
- âœ… ç»“æ„å…ˆè¡Œï¼ˆmain å‡½æ•°åœ°å›¾ï¼‰  
- âœ… ç”Ÿæ´»åŒ–æ¯”å–»  
- âœ… åŠ¨æ‰‹ä¸ºç‹ï¼ˆå«åŸºç¡€/è¿›é˜¶/é™·é˜±é¢˜ï¼‰  
- âœ… èºæ—‹å¤ä¹ ï¼ˆè¡”æ¥ 1.5 å…¨ç³»åˆ— + Java ç»éªŒï¼‰  
- âœ… ä¸»åŠ¨å­¦ä¹  + å¤ç›˜

---

## ğŸ¯ KU 1.5.8ï¼šmain å‡½æ•°ç­¾å

> **æ‰€å±é˜¶æ®µ**ï¼šPhase 1 â€” C++ è¯­æ³•åŸºç¡€  
> **å‰ç½®çŸ¥è¯†**ï¼š1.5.1â€“1.5.7ï¼ˆå‡½æ•°åŸºç¡€ï¼‰ã€1.3.8ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰ã€Java main ç»éªŒ  
> **åç»­è¡”æ¥**ï¼š1.12ï¼ˆiostreamï¼‰ã€3.10ï¼ˆçº¿ç¨‹ï¼‰  
> **é¢„è®¡è€—æ—¶**ï¼š1â€“2 å°æ—¶

---

### ğŸ§­ ä¸€ã€ç»“æ„å…ˆè¡Œï¼šmain å‡½æ•°åœ°å›¾

```
1.5.8 main å‡½æ•°ç­¾å
â”œâ”€â”€ 1. æ ‡å‡†ç­¾åï¼ˆC++ æ ‡å‡†è§„å®šï¼‰
â”‚   â”œâ”€â”€ 1.1 int main() 
â”‚   â”œâ”€â”€ 1.2 int main(int argc, char* argv[])
â”‚   â””â”€â”€ 1.3 C++ å…è®¸ä½†ä¸æ ‡å‡†ï¼šmain()ï¼ˆæ— è¿”å›ï¼‰
â”œâ”€â”€ 2. å‚æ•°è¯¦è§£
â”‚   â”œâ”€â”€ 2.1 argcï¼šå‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°
â”‚   â”œâ”€â”€ 2.2 argvï¼šC é£æ ¼å­—ç¬¦ä¸²æ•°ç»„ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰
â”‚   â””â”€â”€ 2.3 argv[0] = ç¨‹åºå
â”œâ”€â”€ 3. è¿”å›å€¼è¯­ä¹‰
â”‚   â”œâ”€â”€ 3.1 0 = æˆåŠŸ
â”‚   â”œâ”€â”€ 3.2 é 0 = é”™è¯¯ï¼ˆå…·ä½“å€¼ç”±ç¨‹åºå®šä¹‰ï¼‰
â”‚   â””â”€â”€ 3.3 return 0 å¯çœç•¥ï¼ˆC++ æ ‡å‡†ï¼‰
â”œâ”€â”€ 4. ä¸ Java çš„å¯¹æ¯”
â”‚   â”œâ”€â”€ 4.1 Java: public static void main(String[] args)
â”‚   â””â”€â”€ 4.2 C++: int main(int argc, char* argv[])
â”œâ”€â”€ 5. å¸¸è§ç”¨é€”ä¸æœ€ä½³å®è·µ
    â”œâ”€â”€ 5.1 å‘½ä»¤è¡Œè§£æ
    â”œâ”€â”€ 5.2 è„šæœ¬é›†æˆ
    â””â”€â”€ 5.3 é”™è¯¯ç çº¦å®š
```

---

### ğŸ¯ äºŒã€SMART å­¦ä¹ ç›®æ ‡

- **Specific**ï¼šèƒ½æ­£ç¡®ç¼–å†™ä¸¤ç§æ ‡å‡† `main` ç­¾åï¼Œç†è§£ `argc`/`argv` å«ä¹‰ï¼Œå¹¶å¤„ç†å‘½ä»¤è¡Œå‚æ•°ã€‚
- **Measurable**ï¼šå®Œæˆ 2 é“åŸºç¡€é¢˜ + 1 é“å‘½ä»¤è¡Œè§£æé¢˜ï¼Œèƒ½è§£é‡Š `argv[0]` çš„å†…å®¹ã€‚
- **Achievable**ï¼šé€šè¿‡â€œç¨‹åºå¯åŠ¨æŒ‡ä»¤â€æ¯”å–»ç†è§£å‘½ä»¤è¡Œå‚æ•°ã€‚
- **Relevant**ï¼šè¿™æ˜¯ç¼–å†™å®ç”¨ C++ å·¥å…·çš„åŸºç¡€ã€‚
- **Time-bound**ï¼š1 å¤©å†…å®Œæˆã€‚

---

### ğŸŒ ä¸‰ã€ç”Ÿæ´»åŒ–æ¯”å–»ï¼šç¨‹åºå¯åŠ¨æŒ‡ä»¤

> æƒ³è±¡ä½ å‘æœºå™¨äººä¸‹è¾¾æŒ‡ä»¤ï¼š
>
> - **`./app`** = â€œå¯åŠ¨ appâ€  
>   â†’ å¯¹åº” `int main()`
>
> - **`./app --input data.txt --output result.txt`** = â€œå¯åŠ¨ appï¼Œè¾“å…¥ data.txtï¼Œè¾“å‡º result.txtâ€  
>   â†’ å¯¹åº” `int main(int argc, char* argv[])`  
>   - `argc = 5`ï¼ˆç¨‹åºå + 4 ä¸ªå‚æ•°ï¼‰  
>   - `argv = ["./app", "--input", "data.txt", "--output", "result.txt"]`
>
> - **æœºå™¨äººå›åº”**ï¼š  
>   - ç‚¹å¤´ï¼ˆ0ï¼‰= æˆåŠŸ  
>   - æ‘‡å¤´ï¼ˆ1ï¼‰= å¤±è´¥
>
> - **Java å¯¹æ¯”**ï¼š  
>   - Java: `java App --input data.txt` â†’ `args = ["--input", "data.txt"]`  
>   - **C++ åŒ…å«ç¨‹åºå**ï¼ˆ`argv[0]`ï¼‰ï¼ŒJava ä¸åŒ…å«

> ğŸ’¡ **å…³é”®è®¤çŸ¥**ï¼š**`main` æ˜¯æ“ä½œç³»ç»Ÿä¸ç¨‹åºçš„æ ‡å‡†åŒ–å¥‘çº¦**ã€‚

---

### ğŸ“š å››ã€çŸ¥è¯†ç‚¹åˆ†è§£

#### 1. æ ‡å‡†ç­¾åï¼ˆC++ æ ‡å‡†è§„å®šï¼‰
- **å½¢å¼ 1**ï¼š`int main()`
  - æ— å‘½ä»¤è¡Œå‚æ•°
  - é€‚ç”¨äºç®€å•ç¨‹åº
- **å½¢å¼ 2**ï¼š`int main(int argc, char* argv[])`
  - `argc`ï¼šargument countï¼ˆå‚æ•°ä¸ªæ•°ï¼Œâ‰¥1ï¼‰
  - `argv`ï¼šargument vectorï¼ˆC é£æ ¼å­—ç¬¦ä¸²æ•°ç»„ï¼‰
  - **ç­‰ä»·å†™æ³•**ï¼š`int main(int argc, char** argv)`
- **éæ ‡å‡†ä½†å¸¸è§**ï¼š
  - `void main()` â†’ **éæ³•**ï¼ï¼ˆæŸäº›ç¼–è¯‘å™¨å®¹å¿ï¼Œä½†éæ ‡å‡†ï¼‰
  - `main()`ï¼ˆæ— è¿”å›ï¼‰â†’ C++ æ ‡å‡†å…è®¸éšå¼ `return 0`

#### 2. å‚æ•°è¯¦è§£
- **`argc`**ï¼š
  - è‡³å°‘ä¸º 1ï¼ˆ`argv[0]` æ€»æ˜¯ç¨‹åºåï¼‰
  - ç¤ºä¾‹ï¼š`./app hello world` â†’ `argc = 3`
- **`argv`**ï¼š
  - `char* argv[]` = **æŒ‡é’ˆæ•°ç»„**ï¼ˆ1.3.8ï¼‰
  - æ¯ä¸ªå…ƒç´ æ˜¯ C é£æ ¼å­—ç¬¦ä¸²ï¼ˆ`char*`ï¼‰
  - **`argv[argc] == nullptr`**ï¼ˆæ ‡å‡†ä¿è¯ï¼‰
- **`argv[0]`**ï¼š
  - ç¨‹åºåï¼ˆå¯èƒ½åŒ…å«è·¯å¾„ï¼Œå¦‚ `"./app"` æˆ– `"/usr/bin/app"`ï¼‰
  - ç”±æ“ä½œç³»ç»Ÿæä¾›ï¼Œå¯èƒ½ä¸ºç©ºï¼ˆä½†ç½•è§ï¼‰

#### 3. è¿”å›å€¼è¯­ä¹‰
- **`return 0`**ï¼šæˆåŠŸï¼ˆEXIT_SUCCESSï¼‰
- **`return 1`**ï¼ˆæˆ–é 0ï¼‰ï¼šå¤±è´¥ï¼ˆEXIT_FAILUREï¼‰
- **çœç•¥ return**ï¼š
  - C++ æ ‡å‡†è§„å®šï¼š`main` æœ«å°¾éšå¼ `return 0;`
  - ä»…é€‚ç”¨äº `main`ï¼Œå…¶ä»–å‡½æ•°å¿…é¡»æ˜¾å¼è¿”å›

#### 4. ä¸ Java çš„å¯¹æ¯”
| ç‰¹æ€§ | C++ | Java |
|------|-----|------|
| **ç­¾å** | `int main(int argc, char* argv[])` | `public static void main(String[] args)` |
| **ç¨‹åºå** | `argv[0]` åŒ…å« | `args` ä¸åŒ…å« |
| **è¿”å›å€¼** | `int`ï¼ˆ0=æˆåŠŸï¼‰ | `void`ï¼ˆé€šè¿‡ `System.exit(int)` è¿”å›ï¼‰ |
| **å‚æ•°ç±»å‹** | C é£æ ¼å­—ç¬¦ä¸²ï¼ˆ`char*`ï¼‰ | Java å­—ç¬¦ä¸²ï¼ˆ`String`ï¼‰ |

#### 5. å¸¸è§ç”¨é€”
- **å‘½ä»¤è¡Œå·¥å…·**ï¼š
  ```cpp
  if (argc != 3) {
      std::cerr << "Usage: " << argv[0] << " <input> <output>\n";
      return 1;
  }
  ```
- **è„šæœ¬é›†æˆ**ï¼š
  - Shell è„šæœ¬æ£€æŸ¥ `$?`ï¼ˆä¸Šä¸€å‘½ä»¤è¿”å›å€¼ï¼‰
- **é”™è¯¯ç çº¦å®š**ï¼š
  - 0 = æˆåŠŸ
  - 1 = é€šç”¨é”™è¯¯
  - 2 = ç”¨æ³•é”™è¯¯ï¼ˆå¦‚å‚æ•°ç¼ºå¤±ï¼‰

> ğŸ’¡ **ç°ä»£ C++ å»ºè®®**ï¼š
> - **ç®€å•ç¨‹åº**ï¼š`int main()`
> - **å‘½ä»¤è¡Œå·¥å…·**ï¼š`int main(int argc, char* argv[])`
> - **é«˜çº§è§£æ**ï¼šç”¨ `std::vector<std::string>` å°è£… `argv`ï¼ˆPhase 3ï¼‰

---

### ğŸ’» äº”ã€åŠ¨æ‰‹ä¸ºç‹ï¼šå¯è¿è¡Œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šåŸºæœ¬ main ç­¾å
```cpp
// simple.cpp
#include <iostream>

int main() {
    std::cout << "Hello from main()!\n";
    // éšå¼ return 0;
}
```

#### ç¤ºä¾‹ 2ï¼šå‘½ä»¤è¡Œå‚æ•°è§£æ
```cpp
// args.cpp
#include <iostream>

int main(int argc, char* argv[]) {
    std::cout << "argc = " << argc << "\n";
    for (int i = 0; i < argc; ++i) {
        std::cout << "argv[" << i << "] = " << argv[i] << "\n";
    }
    
    if (argc < 2) {
        std::cerr << "Usage: " << argv[0] << " <name>\n";
        return 1; // é”™è¯¯ç 
    }
    
    std::cout << "Hello, " << argv[1] << "!\n";
    return 0; // æˆåŠŸ
}
```
> ğŸ“Œ ç¼–è¯‘è¿è¡Œï¼š
> ```bash
> g++ args.cpp -o args
> ./args Alice
> ```
> âœ… è¾“å‡ºï¼š
> ```
> argc = 2
> argv[0] = ./args
> argv[1] = Alice
> Hello, Alice!
> ```

#### ç¤ºä¾‹ 3ï¼šä¸ Java å¯¹æ¯”
```java
// Args.java
public class Args {
    public static void main(String[] args) {
        System.out.println("args.length = " + args.length);
        for (int i = 0; i < args.length; i++) {
            System.out.println("args[" + i + "] = " + args[i]);
        }
    }
}
```
> ğŸ“Œ è¿è¡Œï¼š
> ```bash
> java Args Alice
> ```
> âœ… è¾“å‡ºï¼š
> ```
> args.length = 1
> args[0] = Alice
> ```

---

### ğŸ“ å…­ã€åˆ†å±‚ç»ƒä¹ é¢˜

#### ğŸ”¹ åŸºç¡€é¢˜
1. **ç­¾åè¯†åˆ«**  
   - åˆ¤æ–­ä»¥ä¸‹å“ªäº›æ˜¯æ ‡å‡† C++ main ç­¾åï¼š
     ```cpp
     int main();
     int main(int argc, char* argv[]);
     void main();
     ```

2. **å‚æ•°æ‰“å°**  
   - ç¼–å†™ç¨‹åºï¼Œæ‰“å°æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°ï¼ˆåŒ…æ‹¬ argv[0]ï¼‰

#### ğŸ”¸ è¿›é˜¶é¢˜
3. **ç”¨æ³•æ£€æŸ¥**  
   - ç¼–å†™ç¨‹åºï¼Œè¦æ±‚æ°å¥½ 2 ä¸ªå‚æ•°ï¼ˆç¨‹åºå + 1 ä¸ªï¼‰ï¼Œå¦åˆ™è¾“å‡ºç”¨æ³•å¹¶è¿”å› 1

#### âš ï¸ é™·é˜±é¢˜ï¼ˆJava è¿ç§»è¯¯åŒºï¼‰
4. **â€œmain å¯ä»¥ void å§ï¼Ÿâ€**  
   - Q: `void main()` åœ¨ C++ ä¸­åˆæ³•å—ï¼Ÿ  
   - A: âŒ **ä¸æ ‡å‡†**ï¼  
     â†’ æŸäº›ç¼–è¯‘å™¨å®¹å¿ï¼Œä½†**é ISO C++**  
     â†’ **å¿…é¡» `int main()`**

5. **â€œargv åŒ…å«ç¨‹åºåå—ï¼Ÿâ€**  
   - Q: Java çš„ `args[0]` å’Œ C++ çš„ `argv[0]` å†…å®¹ç›¸åŒå—ï¼Ÿ  
   - A: âŒ **ä¸åŒ**ï¼  
     - C++ `argv[0]` = ç¨‹åºå  
     - Java `args[0]` = ç¬¬ä¸€ä¸ªç”¨æˆ·å‚æ•°

---

### âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹ä¸å»ºè®®

| é—®é¢˜ | å»ºè®® |
|------|------|
| **éæ ‡å‡† main** | å§‹ç»ˆç”¨ `int main()` |
| **å‚æ•°è§£æ** | ç®€å•åœºæ™¯æ‰‹å†™ï¼Œå¤æ‚åœºæ™¯ç”¨ `getopt` æˆ– CLI åº“ |
| **è¿”å›å€¼** | 0=æˆåŠŸï¼Œé0=é”™è¯¯ï¼ˆçº¦å®š 1=é€šç”¨ï¼Œ2=ç”¨æ³•é”™è¯¯ï¼‰ |
| **C é£æ ¼å­—ç¬¦ä¸²** | ç”¨ `std::string` å°è£…ï¼ˆPhase 3ï¼‰ |
| **å¯ç§»æ¤æ€§** | `argv[0]` å¯èƒ½ä¸ºç©ºï¼Œä½†é€šå¸¸å¯ç”¨ |

> ğŸ’¡ **ç°ä»£ C++ å»ºè®®**ï¼š
> - **æ–°æ‰‹**ï¼šä» `int main()` å¼€å§‹
> - **å·¥å…·å¼€å‘**ï¼šç”¨ `int main(int argc, char* argv[])`
> - **ç”Ÿäº§ä»£ç **ï¼šç”¨ CLI åº“ï¼ˆå¦‚ `CLI11`ï¼‰è§£æå‚æ•°

---

### ğŸ” å…«ã€èºæ—‹å¤ä¹ 

- **è¡”æ¥ 1.3.8**ï¼š`argv` æ˜¯ `char*` æŒ‡é’ˆæ•°ç»„
- **è¡”æ¥ 1.5.1**ï¼š`main` æ˜¯å‡½æ•°ï¼Œéœ€æ­£ç¡®å£°æ˜/å®šä¹‰
- **Java ç»éªŒ**ï¼šC++ `main` åŒ…å«ç¨‹åºåï¼ŒJava ä¸åŒ…å«
- **å½“æ—¥å¤ä¹ **ï¼šé»˜å†™ä¸¤ç§æ ‡å‡† `main` ç­¾å

---

### ğŸ§  ä¹ã€ä¸»åŠ¨å­¦ä¹ ä»»åŠ¡

1. **è‡ªæˆ‘æé—®**ï¼š
   - â€œä¸ºä»€ä¹ˆ C++ main å¿…é¡»è¿”å› intï¼Ÿâ€
   - â€œæ“ä½œç³»ç»Ÿå¦‚ä½•ä½¿ç”¨ main çš„è¿”å›å€¼ï¼Ÿâ€
2. **æ¦‚å¿µå›¾**ï¼šç”»å‡º C++ ä¸ Java main å‚æ•°å¯¹æ¯”
3. **æ‰®æ¼”æ•™å¸ˆ**ï¼šå‘åŒäº‹è§£é‡Šâ€œä¸ºä»€ä¹ˆ `argv[0]` æ˜¯ç¨‹åºåâ€

---

### ğŸ” åã€å¤ç›˜æ¸…å•

âœ… æˆ‘èƒ½å†™å‡ºä¸¤ç§æ ‡å‡† main ç­¾å  
âœ… æˆ‘ç†è§£ argc/argv çš„å«ä¹‰  
âœ… æˆ‘çŸ¥é“ main è¿”å›å€¼çš„è¯­ä¹‰  
âœ… æˆ‘èƒ½å¤„ç†ç®€å•å‘½ä»¤è¡Œå‚æ•°  
âœ… æˆ‘æ˜ç™½ C++ ä¸ Java main çš„å·®å¼‚

> ğŸ¯ **è¾¾æ ‡æ ‡å‡†**ï¼šå®ŒæˆåŸºç¡€é¢˜ + æ­£ç¡®åˆ†æé™·é˜±é¢˜ 4 å’Œ 5

---

## ğŸ‰ KU 1.5 å®Œæ•´é—­ç¯ï¼ˆæœ€ç»ˆç‰ˆï¼‰

ä½ å·²å®Œæ•´æŒæ¡ **KU 1.5ï¼šC++ å‡½æ•°åŸºç¡€** çš„å…¨éƒ¨ 8 ä¸ªå­çŸ¥è¯†ç‚¹ï¼  
ä»å£°æ˜/å®šä¹‰ â†’ å‚æ•°ä¼ é€’ â†’ é»˜è®¤å‚æ•° â†’ é‡è½½ â†’ é‡å†™ â†’ å†…è” â†’ é“¾æ¥æ€§ â†’ main å‡½æ•°ï¼Œå½¢æˆäº†**å®Œæ•´å‡½æ•°è®¾è®¡è®¤çŸ¥é—­ç¯**ã€‚

> ğŸ‰ **ä½ ç°åœ¨èƒ½**ï¼š
> - è®¾è®¡é«˜æ•ˆã€å®‰å…¨çš„ C++ å‡½æ•°æ¥å£
> - æ­£ç¡®ä½¿ç”¨é»˜è®¤å‚æ•°ã€é‡è½½ã€å†…è”
> - æ§åˆ¶å‡½æ•°å¯è§æ€§ï¼Œé¿å…å‘½åå†²çª
> - ç¼–å†™æ ‡å‡†å‘½ä»¤è¡Œç¨‹åº
> - å‘ Java åŒäº‹è§£é‡Š C++ å‡½æ•°ç‰¹æ€§å·®å¼‚

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

ä½ å¯ä»¥é€‰æ‹©ï¼š

1. **ç»§ç»­å­¦ä¹  1.6 ç»“æ„ä½“ (struct) ä¸ POD**
2. **è¯·æ±‚ç”Ÿæˆã€ŒC++ å‡½æ•°è®¾è®¡é€ŸæŸ¥å¡ã€**
3. **å¯¼å‡º KU 1.5 ç»¼åˆå°æµ‹ï¼ˆ10 é“é¢˜ï¼‰**

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼